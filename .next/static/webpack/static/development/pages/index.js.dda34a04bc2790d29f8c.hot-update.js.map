{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.dda34a04bc2790d29f8c.hot-update.js","sources":["webpack:///./components/elements/authentication/MakerRegist.js"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { TxtField } from '../../graphics/textFields'\r\nimport { BtnBbw } from '../../graphics/buttons'\r\nimport { authenticate } from '../../../services/authentication/authentication'\r\n\r\nconst MakerRegist = props => {\r\n\r\n    const [emailError, setEmailError] = useState(false)\r\n    const [numError, setNumError] = useState(false)\r\n\r\n    let email;\r\n    let num;\r\n\r\n    const handleEmailChange = event => {\r\n        email = event.target.value\r\n    }\r\n\r\n    const handleNumChange = event => {\r\n        num = event.target.value\r\n    }\r\n\r\n    const handleSubmit = event => {\r\n        event.preventDefault()\r\n        if (email != null && email != '' && num != null && num != '') {\r\n            const data = {\r\n                username: email.split('@')[0],\r\n                email: email,\r\n                phone: num,\r\n                is_maker: true\r\n            }\r\n            authenticate(data, \"signup\", props.csrf).then((response) => {\r\n                if (response.status === \"error\") {\r\n                    console.log('error')\r\n                }\r\n                else {\r\n                    console.log('success')\r\n                }\r\n            })\r\n                .catch((error) => {\r\n                    console.log(error)\r\n                })\r\n        } else {\r\n            if (email == null || email == '') {\r\n                setEmailError(true)\r\n            }\r\n            if (num == null || num == '') {\r\n                setNumError(true)\r\n            }\r\n        }\r\n    }\r\n\r\n    let content = (\r\n        <div className={props.className}>\r\n            <div className=\"relative w-full h-auto overflow-hidden\">\r\n                <img className=\"absolute h-full w-full object-cover\" src=\"/wheel-pot.jpg\" />\r\n                <div className=\"relative w-full h-auto p-6 justify-end\">\r\n                    <h3 className=\"h-auto w-full text-white text-xl text-right align-right mb-6\">صانع ؟ إنضم إلينا</h3>\r\n                    <div className=\"w-full h-auto flex flex-wrap flex-col md:flex-row-reverse items-end\">\r\n                        <TxtField error={numError} align='right' color='white' className=\"w-full flex-2 mt-2\" label=\"رقم الهاتف\" onChange={handleNumChange} />\r\n                        <TxtField error={emailError} align='right' color='white' className=\"w-full flex-2 mt-2 md:mr-2\" label=\"البريد الإلكتروني\" onChange={handleEmailChange} />\r\n                        <div className=\"w-full h-full flex-1 content-end flex-wrap mt-4 md:mr-2 md:mt-0\">\r\n                            <BtnBbw className=\"w-full h-12\" weight=\"bold\" value=\"إنضم\" onClick={handleSubmit} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n    return content\r\n}\r\n\r\nexport default MakerRegist"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAOA;AACA;AACA;AACA;;;;A","sourceRoot":""}