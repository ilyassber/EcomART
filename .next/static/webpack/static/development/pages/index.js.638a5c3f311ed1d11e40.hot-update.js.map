{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.638a5c3f311ed1d11e40.hot-update.js","sources":["webpack:///./components/elements/discuss/LeaveMessage.js"],"sourcesContent":["import react, { useState } from 'react'\r\nimport { Btn } from '../../graphics/buttons'\r\nimport { TxtArea, TxtField } from '../../graphics/textFields'\r\nimport Cookies from 'js-cookie'\r\nimport { postRequest } from '../../../services/api/post/postRequest'\r\nimport querystring from 'querystring'\r\n\r\nconst LeaveMessage = props => {\r\n\r\n    const [emailError, setEmailError] = useState(false)\r\n    const [welcome, setWelcome] = useState('LEAVE US A MESSAGE')\r\n    const [reset, setReset] = useState(false)\r\n\r\n    let email;\r\n    let message;\r\n\r\n    const handleEmailChange = event => {\r\n        email = event.target.value\r\n    }\r\n\r\n    const handleMessageChange = event => {\r\n        message = event.target.value\r\n    }\r\n\r\n    const handleSubmit = event => {\r\n        event.preventDefault()\r\n        if (email != null && email != '') {\r\n            let data = {\r\n                email: email,\r\n                text: message\r\n            }\r\n            let content = {\r\n                operation: 'register',\r\n                data: querystring.stringify(data)\r\n            }\r\n            postRequest(querystring.stringify(content), Cookies.get('csrftoken'), process.env.domain + '/api/messages/')\r\n            .then((response) => {\r\n                console.log(response)\r\n                if (response.status === \"error\") {\r\n                    setWelcome('Something Wrong!')\r\n                    console.log('error')\r\n                }\r\n                else {\r\n                    setWelcome('THANK YOU!')\r\n                    setReset(true)\r\n                    console.log('success')\r\n                }\r\n            })\r\n                .catch((error) => {\r\n                    console.log(error)\r\n                })\r\n        } else {\r\n            if (email == null || email == '') {\r\n                setEmailError(true)\r\n            }\r\n        }\r\n    }\r\n\r\n    let content = (\r\n        <div className={props.className} >\r\n            <div className=\"w-full h-full flex flex-col items-left\">\r\n                <strong className=\"font-roboto font-black text-3xl text-red-800 mb-4\">\r\n                    {welcome}\r\n                </strong>\r\n                <div>\r\n                    <TxtField\r\n                        reset={reset}\r\n                        disabled={reset}\r\n                        error={emailError}\r\n                        borderColor='white'\r\n                        textColor='white'\r\n                        focusColor='white'\r\n                        bgColor='transparent'\r\n                        disableColor='gray-900'\r\n                        height={10}\r\n                        placeholder='EMAIL'\r\n                        placeholderColor='white'\r\n                        className=\"w-full max-w-64 mt-2\"\r\n                        onChange={handleEmailChange}\r\n                    />\r\n                    <TxtArea\r\n                        reset={reset}\r\n                        disabled={reset}\r\n                        borderColor='white'\r\n                        textColor='white'\r\n                        focusColor='white'\r\n                        bgColor='transparent'\r\n                        disableColor='gray-900'\r\n                        height='full'\r\n                        placeholder='Message...'\r\n                        placeholderColor='white'\r\n                        onChange={handleMessageChange}\r\n                        className=\"w-full max-w-64 mt-2\"\r\n                    />\r\n                    <div className=\"w-full h-auto flex flex-row-reverse\">\r\n                        <Btn\r\n                            disabled={reset}\r\n                            className='w-full h-auto'\r\n                            borderColor='white'\r\n                            bgColor='transparent'\r\n                            textColor='white'\r\n                            textSize='sm'\r\n                            textWeight='medium'\r\n                            hoverColor='gray-900'\r\n                            disableColor='gray-900'\r\n                            height={10}\r\n                            value='Send'\r\n                            onClick={handleSubmit}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n    return content\r\n}\r\n\r\nexport default LeaveMessage"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAmBA;AACA;AACA;AACA;;;;A","sourceRoot":""}