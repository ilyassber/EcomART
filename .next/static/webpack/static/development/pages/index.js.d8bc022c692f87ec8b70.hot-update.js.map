{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.d8bc022c692f87ec8b70.hot-update.js","sources":["webpack:///./components/layout.js"],"sourcesContent":["import React, { useEffect, useRef, useState, useLayoutEffect } from 'react'\r\nimport Wrapper from './widgets/utilities/wrapper'\r\nimport NavBar from './elements/nav-bar/navbar'\r\nimport SideMenu from './elements/side-menu/sideMenu'\r\nimport SearchGate from './elements/searchGate/searchGate'\r\nimport BlackFocusScreen from './elements/blackFocusScreen/BlackFocusScreen'\r\nimport { getRequest } from '../services/api/get/getRequest'\r\nimport Footer from './elements/footer/footer'\r\n\r\n// fake data \r\nconst categories = [\r\n    {\r\n        tag: \"clothes\",\r\n        sous_tags: [\"shoes\", \"t-shirts\", \"jeans\", \"socks\"],\r\n        tag_image: \"images/tags/clothes/clothes-1.jpg\"\r\n    },\r\n    {\r\n        tag: \"jewlery\",\r\n        sous_tags: [\"neckchains\", \"rings\", \"bracelets\", \"earrings\", \"watches\"],\r\n        tag_image: \"images/tags/jewlery/jewlery-1.jpg\"\r\n    },\r\n    {\r\n        tag: \"furniture\",\r\n        sous_tags: [\"tables\", \"beds\", \"chair\", \"sofa\", \"wardrobes\"],\r\n        tag_image: \"images/tags/furniture/furniture-1.jpg\"\r\n    },\r\n    {\r\n        tag: \"gifts\",\r\n        sous_tags: [\"parfum\", \"braclet\", \"socks\", \"backpack\", \"necklace\", \"wallet\"],\r\n        tag_image: \"images/tags/gifts/gifts-1.jpg\"\r\n    },\r\n    {\r\n        tag: \"jewlery\",\r\n        sous_tags: [\"neckchains\", \"rings\", \"bracelets\", \"earrings\", \"watches\"],\r\n        tag_image: \"images/tags/jewlery/jewlery-1.jpg\"\r\n    },\r\n    {\r\n        tag: \"furniture\",\r\n        sous_tags: [\"tables\", \"beds\", \"chair\", \"sofa\", \"wardrobes\"],\r\n        tag_image: \"images/tags/furniture/furniture-1.jpg\"\r\n    },\r\n    {\r\n        tag: \"gifts\",\r\n        sous_tags: [\"parfum\", \"braclet\", \"socks\", \"backpack\", \"necklace\", \"wallet\"],\r\n        tag_image: \"images/tags/gifts/gifts-1.jpg\"\r\n    },\r\n    {\r\n        tag: \"jewlery\",\r\n        sous_tags: [\"neckchains\", \"rings\", \"bracelets\", \"earrings\", \"watches\"],\r\n        tag_image: \"images/tags/jewlery/jewlery-1.jpg\"\r\n    },\r\n    {\r\n        tag: \"furniture\",\r\n        sous_tags: [\"tables\", \"beds\", \"chair\", \"sofa\", \"wardrobes\"],\r\n        tag_image: \"images/tags/furniture/furniture-1.jpg\"\r\n    },\r\n    {\r\n        tag: \"gifts\",\r\n        sous_tags: [\"parfum\", \"braclet\", \"socks\", \"backpack\", \"necklace\", \"wallet\"],\r\n        tag_image: \"images/tags/gifts/gifts-1.jpg\"\r\n    }\r\n]\r\n\r\nconst links = [\r\n    {\r\n        page: 'MAKERS',\r\n        path: '/makers'\r\n    },\r\n    {\r\n        page: 'REGIONS',\r\n        path: '/regions'\r\n\r\n    },\r\n    {\r\n        page: 'STORIES',\r\n        path: '/stories'\r\n    }\r\n]\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst Layout = (props) => {\r\n\r\n    console.log(\"LYOUT RENDERRR\")\r\n    // GLOBAL STATES\r\n\r\n    const [scroll, setScroll] = useState(true)\r\n    const [openMenu, setOpenMenu] = useState(false)   // menu open/close state\r\n    const [selectedPage, setSelectedPage] = useState({ page: \"HOME\", path: \"/\" }) // current selected page\r\n    const [openSearch, setOpenSearch] = useState(false)   // search open/close state\r\n    const [searchData, setSearchData] = useState({\r\n        searchHistory: [],\r\n        searchTarget: \"\",\r\n        searchTrackedInputText: \"\",\r\n    })  // saved search DATA \r\n\r\n    const layoutRef = useRef(null) \r\n\r\n\r\n    // STATE CALLBACKS\r\n\r\n\r\n    // openSearch callBacks\r\n\r\n    const changeOpenSearch = () => {\r\n        setOpenSearch(!openSearch)\r\n    }\r\n\r\n    // openMenu callBacks\r\n\r\n    const changeOpenMenu = () => {\r\n        setOpenMenu(!openMenu)\r\n    }\r\n\r\n    // selectedPage callBacks\r\n\r\n    const changeSelectedPage = (link) => {\r\n        setSelectedPage(link)\r\n    }\r\n\r\n\r\n    // useEffect(\r\n    //     () => {\r\n    //         useLockBodyScroll()\r\n    //     }\r\n    //     , []\r\n    // )\r\n\r\n    useLockBodyScroll()\r\n    // Hook\r\nfunction useLockBodyScroll() {\r\n    useEffect(() => {\r\n     // Get original body overflow\r\n     const originalStyle = window.getComputedStyle(document.body).overflow;  \r\n     // Prevent scrolling on mount\r\n    //  if (!scroll){\r\n     document.body.style.overflow = 'hidden';\r\n    //  setScroll(true)\r\n    // } else\r\n    // {         setScroll(false)\r\n    //         document.body.style.overflow = originalStyle\r\n    // }\r\n     // Re-enable scrolling when component unmounts\r\n     return () => document.body.style.overflow = originalStyle;\r\n     }, []); // Empty array ensures effect is only run on mount and unmount\r\n  }\r\n\r\n    // function useLockBodyScroll() {\r\n    //      // Get original body overflow\r\n    //      if (layoutRef.current)\r\n    //      {\r\n    //      const originalStyle = layoutRef.current.style.overflow;  \r\n    //      // Prevent scrolling on mount\r\n    //      if (scroll){\r\n    //         layoutRef.current.style.overflow = 'hidden';\r\n        //     setScroll(false)\r\n        // } else\r\n        // {\r\n    //         layoutRef.current.style.overflow = originalStyle;\r\n        //     setScroll(true)\r\n        // }\r\n    //         // Re-enable scrolling when component unmounts\r\n    //     }\r\n    // }\r\n\r\n    // DISPLAYED CONTENT \r\n\r\n    const FooterBar = () => (\r\n        // <div className={`${openSearch ? \"hidden\" : \"\" } w-full h-full`}>\r\n\r\n        <Footer categories={categories}\r\n            max_shown={5}\r\n            links={links}\r\n        />\r\n        // </div>\r\n    )\r\n\r\n    const Page = () => (\r\n        // <div className={`${openSearch ? \"hidden\" : \"\" } w-full h-full`}>\r\n\r\n        props.children\r\n        // </div>\r\n\r\n    )\r\n\r\n    const Menu = () => (\r\n        openMenu && <SideMenu menuClick={openMenu}\r\n            changeMenuClicked={changeOpenMenu}\r\n            currentPage={selectedPage}\r\n            changeCurrentPage={changeSelectedPage}\r\n            categories={categories}\r\n            max_shown={8}\r\n            links={links}\r\n        />\r\n    )\r\n\r\n    const NavigationBar = () => (\r\n        <NavBar changeMenuClicked={changeOpenMenu}\r\n            openSearch={openSearch}\r\n            openSearchClickHandler={changeOpenSearch}\r\n            logo=\"/logo.png\"\r\n            categories={props.tags}\r\n            max_shown={8}\r\n            links={links}\r\n            home=\"/\"\r\n        />\r\n    )\r\n\r\n    const SearchPage = () => (\r\n        openSearch && <SearchGate changeOpenSearch={changeOpenSearch}\r\n            searchData={searchData}\r\n            setSearchData={(data) => setSearchData(data)}\r\n        />\r\n    )\r\n\r\n    const BlackFocusOff = () => (\r\n        (openMenu) && <BlackFocusScreen onClick={changeOpenMenu} />\r\n    )\r\n\r\n    const SpacingTop = () => (\r\n        <Wrapper style=\"w-full absolute top-0 h-48\" />\r\n    )\r\n\r\n\r\n    // RENDER THAT SHIT\r\n\r\n    return (\r\n        <div ref={layoutRef} className=\"flex flex-col w-full h-full overflow-scroll bg-scroll\" >\r\n\r\n            <Menu />\r\n            <BlackFocusOff />\r\n            <NavigationBar />\r\n            <SpacingTop />\r\n            <SearchPage />\r\n            <Page />\r\n            <FooterBar />\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Layout"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAOA;AAEA;AACA;AAFA;AAKA;AACA;AAFA;AAMA;AACA;AAFA;AACA;AAWA;AAEA;AACA;AAHA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AACA;AAFA;AAOA;AAAA;AAAA;AAPA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AACA;AACA;AAFA;AAUA;AACA;AACA;AAHA;AATA;AAAA;AACA;AACA;AAaA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAGA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAJA;AAAA;AACA;AASA;AAAA;AAGA;AACA;AAJA;AAAA;AACA;AAOA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AACA;AAUA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AACA;AAWA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AACA;AAMA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AACA;AAGA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AACA;AACA;AAKA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;;;;A","sourceRoot":""}