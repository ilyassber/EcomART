{"version":3,"file":"static/webpack/static\\development\\pages\\maker.js.4ba1da599d0d0f0fdd35.hot-update.js","sources":["webpack:///./components/elements/article/AddArticle.js","webpack:///./components/widgets/image/AddSingleImage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { TxtField, TxtArea } from '../../graphics/textFields'\r\nimport { BtnBbw } from '../../graphics/buttons'\r\nimport { uploadImage } from '../../../services/api/uploadImage'\r\nimport { AddContent } from '../../widgets/article'\r\nimport AddSingleImage from '../../widgets/image/AddSingleImage'\r\n\r\nconst AddArticle = props => {\r\n\r\n    const [data, setData] = useState([])\r\n\r\n    useEffect(() => {\r\n        let initialData = {\r\n            title: null,\r\n            description: null,\r\n            cover: null,\r\n            text: []\r\n        }\r\n        setData(initialData)\r\n        return () => {}\r\n    }, [])\r\n\r\n    const getValue = (event, access) => {\r\n        if (access == 'title') {\r\n            setData({...data, title: event.target.value})\r\n        } else if (access == 'description') {\r\n            setData({...data, description: event.target.value})\r\n        }\r\n    }\r\n\r\n    const addCover = (file) => {\r\n        setData({...data, cover: file})\r\n    }\r\n\r\n    const removeCover = () => {\r\n        setData({...data, cover: null})\r\n    }\r\n\r\n    const appendContent = (content) => {\r\n        let contentList = data.text\r\n        contentList.push(content)\r\n        setData({...data, text: contentList})\r\n    }\r\n\r\n    const editContent = (index, content) => {\r\n        let contentList = data.text\r\n        contentList.splice(index, 0, content)\r\n        setData({...data, text: contentList})\r\n    }\r\n\r\n    const removeContent = (index) => {\r\n        let contentList = data.text\r\n        contentList.splice(index, 1)\r\n        setData({...data, text: contentList})\r\n    }\r\n\r\n    const handleSubmit = async (event) => {\r\n        /*\r\n        event.preventDefault()\r\n        for (let i = 0; i < files.length; i++) {\r\n            let response = await uploadImage(event, files[0], props.cookies['csrftoken']).then((res) => res)\r\n            data['pics_list'].push(response.data)\r\n        }\r\n        addProduct(data, props.cookies['csrftoken']).then((res) => {\r\n            console.log(res)\r\n        })\r\n        */\r\n    }\r\n\r\n    let content = (\r\n        <div className=\"m-4\">\r\n            <form className=\"\" action=\"\">\r\n                <TxtField label=\"Title\" onChange={(event) => getValue(event, 'title')} />\r\n                <TxtArea label=\"Description\" onChange={(event) => getValue(event, 'description')} />\r\n                <div className=\"border\">\r\n                    {data.map((content) => {\r\n                        return (<AddSingleImage data={content} editContent={editContent} removeContent={removeContent} />)\r\n                    })}\r\n                    <AddContent className=\"m-2\"/>\r\n                </div>\r\n                <BtnBbw className=\"w-full h-12 mt-8 mb-4\" value=\"ADD ARTICLE\" onClick={handleSubmit} />\r\n            </form>\r\n        </div>\r\n    )\r\n\r\n    return content\r\n}\r\n\r\nexport default AddArticle","import React, { useRef } from 'react'\r\n\r\nconst AddSingleImage = props => {\r\n\r\n    const inputRef = useRef(null)\r\n\r\n    let uploadBtn = (\r\n        <div className=\"relative m-1\">\r\n            <input\r\n                className=\"absolute invisible\"\r\n                ref={inputRef}\r\n                accept=\"image/jpeg, image/jpg, image/png\"\r\n                type=\"file\"\r\n                onChange={(input) => {\r\n                    data = {\r\n                        state: \"valid\",\r\n                        data: {\r\n                            type: \"image\",\r\n                            image: input.target.files[0]\r\n                        }\r\n                    }\r\n                    props.editContent(props.index, data)\r\n                }}\r\n            />\r\n            <div\r\n                className=\"container flex content-center flex-wrap text-center h-auto w-auto border border-1 border-gray-900 hover:bg-xw-200\"\r\n                role=\"button\"\r\n                onClick={() => { inputRef.current.click() }}>\r\n                <span className=\"text-center h-auto w-full\">\r\n                    Upload Photo\r\n                    </span>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n    let removeBtn = (\r\n        <div className=\"relative m-1\">\r\n            <div\r\n                className=\"container flex content-center flex-wrap text-center h-auto w-auto border border-1 border-gray-900 hover:bg-xw-200\"\r\n                role=\"button\"\r\n                onClick={() => {\r\n                    data = {\r\n                        state: \"edit\",\r\n                        data: {\r\n                            type: \"image\",\r\n                            image: null\r\n                        }\r\n                    }\r\n                    props.editContent(props.index, data)\r\n                }}>\r\n                <span className=\"text-center h-auto w-full\">\r\n                    Remove Photo\r\n                    </span>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n    let content = (\r\n        <div className={props.className}>\r\n            <div className=\"relative h-full w-full bg-yellow-300\">\r\n                <img className=\"absolute w-full h-full object-cover\" src={(props.data.state == \"valid\") ? ((window.URL ? URL : webkitURL).createObjectURL(props.data.data.image)) : null} />\r\n                <div\r\n                    className=\"absolute top-0 right-0 container flex content-center flex-wrap text-center h-6 w-6 bg-opacity-50 bg-gray-700 rounded-full hover:bg-gray-900 focus:outline-none m-1\"\r\n                    role=\"button\"\r\n                    onClick={() => props.removeContent(props.index)}>\r\n                    <span className=\"text-center font-sans font-bold text-xw-100 h-auto w-full\">\r\n                        x\r\n                    </span>\r\n                </div>\r\n                <div className=\"absolute bottom-0 left-0 m-2\">\r\n                    {(props.data.state == 'valid') ? removeBtn : uploadBtn}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n    return content\r\n}\r\n\r\nexport default AddSingleImage"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAYA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACxFA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAFA;AAOA;AACA;AAdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBA;AACA;AACA;AAAA;AAAA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAMA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAFA;AAOA;AACA;AAZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAMA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAMA;AACA;AACA;AACA;;;;A","sourceRoot":""}