{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.5419c44560c887def8e6.hot-update.js","sources":["webpack:///./components/elements/nav-bar/categoriesBar/categoriesBar.js"],"sourcesContent":["import React, { useState, useEffect , useRef } from 'react'\r\nimport SousCategoriesBar from './sousCategoriesBar'\r\nimport { Brand } from '../../../logo'\r\n\r\n\r\nconst SiteNameContainer = ({style}) => (\r\n        \r\n    <div className={style}>\r\n        <Brand />\r\n    </div>\r\n\r\n)\r\n\r\n\r\nexport default function CategoriesBar({ style ,max_shown, categories, brandNameStyle }) {\r\n\r\n    const [openCategorie, setOpenCategorie] = useState({open : false, categorie : null}) // open/close + the categorie to be shown in sougategories \r\n    const categorieRef = useRef(null) // reference on \"categories list\" : to track outside click \r\n\r\n\r\n\r\n    console.log(\" Categorie RENDER\")\r\n\r\n\r\n    // load clicked categorie and set sousCategories to open  \r\n    const clickOnCategorie = (categorie) => {\r\n        setOpenCategorie({open : true, categorie : categorie})\r\n        console.log(\" openCategorie : ->  \", openCategorie) \r\n    }\r\n\r\n\r\n    // add eventListener to track clicks : close souscategories bar when an outside click was detected  \r\n    useEffect(\r\n        () => {\r\n\r\n            function categorieClickHandler (event) {\r\n                if (categorieRef.current && !categorieRef.current.contains(event.target))\r\n                    setOpenCategorie({open : false, categorie : null})\r\n            }\r\n\r\n            document.addEventListener(\"mousedown\", categorieClickHandler)\r\n            \r\n            return () => {\r\n                document.removeEventListener(\"mousedown\", categorieClickHandler)\r\n            }\r\n        \r\n        },[]\r\n    )\r\n\r\n\r\n    return (\r\n        <div ref={categorieRef}  className={style}>\r\n            <div className=\"flex flex-row justify-between h-13 w-full\">\r\n                <div className=\"flex flex-row justify-start items-center h-full flex-1 \">\r\n                    <SiteNameContainer style={brandNameStyle}\r\n                    />\r\n                </div>\r\n                <ul className=\"flex flex-row justify-center items-center h-full\" >\r\n                    {categories.map((categorie, index) =>\r\n                        (index < max_shown) && <li  key={ index }\r\n                                                    className={`flex px-4 h-full justify-center items-center cursor-pointer font-lato text-base font-black ${(openCategorie.categorie && openCategorie.categorie === categorie) ? \"text-yellow-600\" : \"text-gray-900 hover:text-gray-700\" }`}\r\n                                                    onClick={() => clickOnCategorie(categorie)}\r\n                        >\r\n                        {categorie.name.toUpperCase()}</li>\r\n                    )}\r\n                </ul>\r\n                <div className=\"flex flex-1 h-full\">\r\n                </div>\r\n            </div>\r\n            {openCategorie.open && <SousCategoriesBar closeClickHandler={() => setOpenCategorie({open : false, categorie : null})}\r\n                categorie={openCategorie.categorie}\r\n            />}\r\n        </div>\r\n    )\r\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA;AACA;AAQA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AAAA;AAAA;AAFA;AAAA;AACA;AACA;AACA;AACA;AAGA;AACA;AAGA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AAGA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAIA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;A","sourceRoot":""}