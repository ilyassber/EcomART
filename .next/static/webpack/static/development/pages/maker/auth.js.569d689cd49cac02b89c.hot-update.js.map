{"version":3,"file":"static/webpack/static\\development\\pages\\maker\\auth.js.569d689cd49cac02b89c.hot-update.js","sources":["webpack:///./services/authentication/authentication.js"],"sourcesContent":["import axios from 'axios'\r\nimport querystring from 'querystring'\r\n\r\nexport function authenticate(data, operation, csrttoken) {\r\n    return new Promise((resolve, reject) => {\r\n        let axiosConfig = {\r\n            headers: {\r\n                'Content-Type': 'application/x-www-form-urlencoded',\r\n                'X-CSRFToken': csrttoken\r\n            }\r\n        }\r\n        let content = {\r\n            operation: operation,\r\n            data: querystring.stringify(data)\r\n        }\r\n        axios.defaults.withCredentials = true\r\n        axios.post(process.env.domain + '/api/users/', querystring.stringify(content), axiosConfig)\r\n            .then((response) => {\r\n                console.log(response.data)\r\n                localStorage.setItem('_user', JSON.stringify(response.data))\r\n                //window.open('/users')\r\n                if (operation == 'logout') {\r\n                    localStorage.setItem('_user', null)\r\n                    window.location = '/'\r\n                } else {\r\n                    window.location = '/maker'\r\n                }\r\n                //resolve(response.data)\r\n            })\r\n            .catch((error) => {\r\n                console.log(error)\r\n                //reject(error)\r\n            })\r\n    })\r\n}"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAFA;AADA;AAMA;AACA;AACA;AAFA;AAIA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;;;;A","sourceRoot":""}