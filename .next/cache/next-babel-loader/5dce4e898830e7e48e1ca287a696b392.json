{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { TxtField } from '../../graphics/textFields';\nimport { BtnBbw } from '../../graphics/buttons';\nimport { registerUser } from '../../../services/authentication/registerUser';\n\nvar MakerRegist = function MakerRegist(props) {\n  var _useState = useState(false),\n      emailError = _useState[0],\n      setEmailError = _useState[1];\n\n  var _useState2 = useState(false),\n      numError = _useState2[0],\n      setNumError = _useState2[1];\n\n  var _useState3 = useState('صانع ؟ إنضم إلينا'),\n      welcome = _useState3[0],\n      setWelcome = _useState3[1];\n\n  var _useState4 = useState(false),\n      reset = _useState4[0],\n      setReset = _useState4[1];\n\n  var email;\n  var num;\n\n  var handleEmailChange = function handleEmailChange(event) {\n    email = event.target.value;\n  };\n\n  var handleNumChange = function handleNumChange(event) {\n    num = event.target.value;\n  };\n\n  var handleSubmit = function handleSubmit(event) {\n    event.preventDefault();\n\n    if (email != null && email != '' && num != null && num != '') {\n      var data = {\n        username: email.split('@')[0],\n        email: email,\n        phone: num,\n        is_maker: true\n      };\n      registerUser(data, \"signup_maker\", props.csrf).then(function (response) {\n        if (response.status === \"error\") {\n          setWelcome('لقد تعذر تسجيل هذا البريد الإلكتروني!');\n          console.log('error');\n        } else {\n          setWelcome('شكرا، سنقوم بالتواصل معك قريبا');\n          setReset(true);\n          console.log('success');\n        }\n      })[\"catch\"](function (error) {\n        console.log(error);\n      });\n    } else {\n      if (email == null || email == '') {\n        setEmailError(true);\n      }\n\n      if (num == null || num == '') {\n        setNumError(true);\n      }\n    }\n  };\n\n  var content = __jsx(\"div\", {\n    className: props.className\n  }, __jsx(\"div\", {\n    className: \"relative w-full h-auto overflow-hidden\"\n  }, __jsx(\"img\", {\n    className: \"absolute h-full w-full object-cover\",\n    src: \"/wheel-pot.jpg\"\n  }), __jsx(\"div\", {\n    className: \"relative w-full h-auto p-6 justify-end\"\n  }, __jsx(\"h3\", {\n    className: \"h-auto w-full font-roboto font-bold text-white text-2xl text-right align-right mb-6\"\n  }, welcome), __jsx(\"div\", {\n    className: \"w-full h-auto flex flex-wrap flex-col md:flex-row-reverse items-end\"\n  }, __jsx(TxtField, {\n    reset: reset,\n    error: numError,\n    align: \"right\",\n    color: \"white\",\n    className: \"w-full flex-2 mt-2\",\n    label: \"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0647\\u0627\\u062A\\u0641\",\n    placeholder: \"xxxxxxxxxx\",\n    height: 10,\n    onChange: handleNumChange\n  }), __jsx(TxtField, {\n    reset: reset,\n    error: emailError,\n    align: \"right\",\n    color: \"white\",\n    className: \"w-full flex-2 mt-2 md:mr-2\",\n    label: \"\\u0627\\u0644\\u0628\\u0631\\u064A\\u062F \\u0627\\u0644\\u0625\\u0644\\u0643\\u062A\\u0631\\u0648\\u0646\\u064A\",\n    placeholder: \"example@email.com\",\n    height: 10,\n    onChange: handleEmailChange\n  }), __jsx(\"div\", {\n    className: \"w-full h-full flex-1 content-end flex-wrap mt-4 md:mr-2 md:mt-0\"\n  }, __jsx(BtnBbw, {\n    className: \"w-full h-10\",\n    weight: \"bold\",\n    value: \"\\u0625\\u0646\\u0636\\u0645\",\n    onClick: handleSubmit\n  }))))));\n\n  return content;\n};\n\nexport default MakerRegist;","map":null,"metadata":{},"sourceType":"module"}