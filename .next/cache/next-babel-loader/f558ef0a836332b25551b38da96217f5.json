{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\1337\\\\Documents\\\\WorkSpace\\\\ecomart\\\\dev\\\\mormadeWebSite\\\\pages\\\\stories\\\\[story].js\";\n\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport { parseCookies } from '../../lib/parseCookies';\nimport { useRouter } from \"next/router\";\nimport ArticleDisplayer from '../../components/elements/article/ArticleDisplayer';\nimport querystring from 'querystring';\nimport { postRequest } from '../../services/api/post/postRequest';\nimport { strict } from 'assert';\n\nvar Story = function Story(props) {\n  var content = __jsx(\"div\", {\n    className: \"w-full h-screen bg-xw-100\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 9\n    }\n  }, __jsx(ArticleDisplayer, {\n    story: props.story,\n    csrf: props.cookies['csrftoken'],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 13\n    }\n  }));\n\n  return content;\n};\n\nexport var __N_SSG = true;\nexport default Story;","map":{"version":3,"sources":["C:/Users/1337/Documents/WorkSpace/ecomart/dev/mormadeWebSite/pages/stories/[story].js"],"names":["React","useEffect","useState","parseCookies","useRouter","ArticleDisplayer","querystring","postRequest","strict","Story","props","content","story","cookies"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,YAAT,QAA6B,wBAA7B;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,gBAAP,MAA6B,oDAA7B;AACA,OAAOC,WAAP,MAAwB,aAAxB;AACA,SAASC,WAAT,QAA4B,qCAA5B;AAEA,SAASC,MAAT,QAAuB,QAAvB;;AAEA,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAAAC,KAAK,EAAI;AAEnB,MAAIC,OAAO,GACP;AAAK,IAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,gBAAD;AAAkB,IAAA,KAAK,EAAED,KAAK,CAACE,KAA/B;AAAsC,IAAA,IAAI,EAAEF,KAAK,CAACG,OAAN,CAAc,WAAd,CAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ;;AAMA,SAAOF,OAAP;AACH,CATD;;;AAiDA,eAAeF,KAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { parseCookies } from '../../lib/parseCookies'\r\nimport { useRouter } from \"next/router\";\r\nimport ArticleDisplayer from '../../components/elements/article/ArticleDisplayer'\r\nimport querystring from 'querystring'\r\nimport { postRequest } from '../../services/api/post/postRequest'\r\nimport { getRequest } from '../../services/api/get/getRequest'\r\nimport { strict } from 'assert';\r\n\r\nconst Story = props => {\r\n\r\n    let content = (\r\n        <div className=\"w-full h-screen bg-xw-100\" >\r\n            <ArticleDisplayer story={props.story} csrf={props.cookies['csrftoken']} />\r\n        </div>\r\n    );\r\n\r\n    return content;\r\n}\r\n\r\nexport async function getStaticPaths() {\r\n\r\n    const stories = await getRequest(process.env.domain + '/api/articles/')\r\n        .then(res => {\r\n            return (res)\r\n        })\r\n\r\n    const paths = stories.map((story) => `/stories/${story.url}`)\r\n\r\n    console.log(paths)\r\n\r\n    return { paths, fallback: false }\r\n}\r\n\r\nexport async function getStaticProps(context) {\r\n\r\n    console.log(context)\r\n\r\n    let current = context.params.story\r\n    let id = current.split('-')[0]\r\n\r\n    const story = await getRequest(process.env.domain + '/api/articles/' + id)\r\n        .then(res => {\r\n            return (JSON.stringify(res[0]))\r\n        })\r\n        .catch(err => {\r\n            return null\r\n        })\r\n\r\n    console.log(story)\r\n\r\n    return {\r\n        props: {\r\n            story: story\r\n        }\r\n    }\r\n}\r\n\r\nexport default Story"]},"metadata":{},"sourceType":"module"}