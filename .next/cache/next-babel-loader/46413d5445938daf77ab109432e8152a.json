{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect, useRef } from 'react';\nimport SousCategoriesBar from './sousCategoriesBar';\nimport { Brand } from '../../../logo';\n\nvar SiteNameContainer = function SiteNameContainer(_ref) {\n  var style = _ref.style;\n  return __jsx(\"div\", {\n    className: style\n  }, __jsx(Brand, null));\n};\n\nexport default function CategoriesBar(_ref2) {\n  var style = _ref2.style,\n      max_shown = _ref2.max_shown,\n      categories = _ref2.categories,\n      brandNameStyle = _ref2.brandNameStyle;\n\n  var _useState = useState({\n    open: false,\n    categorie: null\n  }),\n      openCategorie = _useState[0],\n      setOpenCategorie = _useState[1]; // open/close + the categorie to be shown in sougategories \n\n\n  var categorieRef = useRef(null); // reference on \"categories list\" : to track outside click \n\n  console.log(\" Categorie RENDER\"); // load clicked categorie and set sousCategories to open  \n\n  var clickOnCategorie = function clickOnCategorie(categorie) {\n    setOpenCategorie({\n      open: true,\n      categorie: categorie\n    });\n    console.log(\" openCategorie : ->  \", openCategorie);\n  }; // add eventListener to track clicks : close souscategories bar when an outside click was detected  \n\n\n  useEffect(function () {\n    function categorieClickHandler(event) {\n      if (categorieRef.current && !categorieRef.current.contains(event.target)) setOpenCategorie({\n        open: false,\n        categorie: null\n      });\n    }\n\n    document.addEventListener(\"mousedown\", categorieClickHandler);\n    return function () {\n      document.removeEventListener(\"mousedown\", categorieClickHandler);\n    };\n  }, []);\n  return __jsx(\"div\", {\n    ref: categorieRef,\n    className: style\n  }, __jsx(\"div\", {\n    className: \"flex flex-row justify-between h-12 w-full\"\n  }, __jsx(\"div\", {\n    className: \"flex flex-row justify-start items-center h-full flex-1 \"\n  }, __jsx(SiteNameContainer, {\n    style: brandNameStyle\n  })), __jsx(\"ul\", {\n    className: \"animate-smouthAppearance flex flex-row justify-center items-center h-full\"\n  }, categories.map(function (categorie, index) {\n    return index < max_shown && __jsx(\"li\", {\n      key: index,\n      className: \"flex px-4 h-full justify-center items-center cursor-pointer font-lato text-base font-black \".concat(openCategorie.categorie && openCategorie.categorie === categorie ? \"text-yellow-600\" : \"text-gray-900 hover:text-gray-700\"),\n      onClick: function onClick() {\n        return clickOnCategorie(categorie);\n      }\n    }, categorie.name.toUpperCase());\n  })), __jsx(\"div\", {\n    className: \"flex flex-1 h-full\"\n  })), openCategorie.open && __jsx(SousCategoriesBar, {\n    closeClickHandler: function closeClickHandler() {\n      return setOpenCategorie({\n        open: false,\n        categorie: null\n      });\n    },\n    categorie: openCategorie.categorie\n  }));\n}","map":null,"metadata":{},"sourceType":"module"}