{"ast":null,"code":"import axios from 'axios';\nimport querystring from 'querystring';\nexport function authenticate(data, operation, csrttoken) {\n  return new Promise((resolve, reject) => {\n    let axiosConfig = {\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n        'X-CSRFToken': csrttoken\n      }\n    };\n    let content = {\n      operation: operation,\n      data: querystring.stringify(data)\n    };\n    axios.defaults.withCredentials = true;\n    axios.post(process.env.domain + '/api/users/', querystring.stringify(content), axiosConfig).then(response => {\n      console.log(response.data);\n      localStorage.setItem('_user', JSON.stringify(response.data)); //window.open('/users')\n\n      if (operation == 'logout') {\n        localStorage.setItem('_user', null);\n        window.location = '/';\n      } else {\n        window.location = '/';\n      } //resolve(response.data)\n\n    }).catch(error => {\n      console.log(error); //reject(error)\n    });\n  });\n}","map":null,"metadata":{},"sourceType":"module"}