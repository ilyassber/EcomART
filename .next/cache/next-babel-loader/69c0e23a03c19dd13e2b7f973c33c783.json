{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\1337\\\\Documents\\\\WorkSpace\\\\ecomart\\\\dev\\\\mormadeWebSite\\\\pages\\\\stories\\\\[story].js\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport { parseCookies } from '../../lib/parseCookies';\nimport { useRouter } from \"next/router\";\nimport ArticleDisplayer from '../../components/elements/article/ArticleDisplayer';\nimport querystring from 'querystring';\nimport { postRequest } from '../../services/api/post/postRequest';\nimport { getRequest } from '../../services/api/get/getRequest';\nimport { strict } from 'assert';\n\nconst Story = props => {\n  let content = __jsx(\"div\", {\n    className: \"w-full h-screen bg-xw-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 9\n    }\n  }, __jsx(ArticleDisplayer, {\n    story: props.story,\n    csrf: props.cookies['csrftoken'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 13\n    }\n  }));\n\n  return content;\n};\n\nexport async function getStaticPaths() {\n  const stories = await getRequest(process.env.domain + '/api/articles/').then(res => {\n    return res;\n  });\n  const paths = stories.map(story => `/stories/${story.url}`);\n  console.log(paths);\n  return {\n    paths,\n    fallback: false\n  };\n}\nexport async function getStaticProps(context) {\n  console.log(context);\n  let current = context.params.story;\n  let id = current.split('-')[0];\n  const story = await getRequest(process.env.domain + '/api/articles/' + id).then(res => {\n    return JSON.stringify(res[0]);\n  }).catch(err => {\n    return null;\n  });\n  console.log(story);\n  return {\n    props: {\n      story: story\n    }\n  };\n}\nexport default Story;","map":{"version":3,"sources":["C:/Users/1337/Documents/WorkSpace/ecomart/dev/mormadeWebSite/pages/stories/[story].js"],"names":["React","useEffect","useState","parseCookies","useRouter","ArticleDisplayer","querystring","postRequest","getRequest","strict","Story","props","content","story","cookies","getStaticPaths","stories","process","env","domain","then","res","paths","map","url","console","log","fallback","getStaticProps","context","current","params","id","split","JSON","stringify","catch","err"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,YAAT,QAA6B,wBAA7B;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,gBAAP,MAA6B,oDAA7B;AACA,OAAOC,WAAP,MAAwB,aAAxB;AACA,SAASC,WAAT,QAA4B,qCAA5B;AACA,SAASC,UAAT,QAA2B,mCAA3B;AACA,SAASC,MAAT,QAAuB,QAAvB;;AAEA,MAAMC,KAAK,GAAGC,KAAK,IAAI;AAEnB,MAAIC,OAAO,GACP;AAAK,IAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,gBAAD;AAAkB,IAAA,KAAK,EAAED,KAAK,CAACE,KAA/B;AAAsC,IAAA,IAAI,EAAEF,KAAK,CAACG,OAAN,CAAc,WAAd,CAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ;;AAMA,SAAOF,OAAP;AACH,CATD;;AAWA,OAAO,eAAeG,cAAf,GAAgC;AAEnC,QAAMC,OAAO,GAAG,MAAMR,UAAU,CAACS,OAAO,CAACC,GAAR,CAAYC,MAAZ,GAAqB,gBAAtB,CAAV,CACjBC,IADiB,CACZC,GAAG,IAAI;AACT,WAAQA,GAAR;AACH,GAHiB,CAAtB;AAKA,QAAMC,KAAK,GAAGN,OAAO,CAACO,GAAR,CAAaV,KAAD,IAAY,YAAWA,KAAK,CAACW,GAAI,EAA7C,CAAd;AAEAC,EAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAZ;AAEA,SAAO;AAAEA,IAAAA,KAAF;AAASK,IAAAA,QAAQ,EAAE;AAAnB,GAAP;AACH;AAED,OAAO,eAAeC,cAAf,CAA8BC,OAA9B,EAAuC;AAE1CJ,EAAAA,OAAO,CAACC,GAAR,CAAYG,OAAZ;AAEA,MAAIC,OAAO,GAAGD,OAAO,CAACE,MAAR,CAAelB,KAA7B;AACA,MAAImB,EAAE,GAAGF,OAAO,CAACG,KAAR,CAAc,GAAd,EAAmB,CAAnB,CAAT;AAEA,QAAMpB,KAAK,GAAG,MAAML,UAAU,CAACS,OAAO,CAACC,GAAR,CAAYC,MAAZ,GAAqB,gBAArB,GAAwCa,EAAzC,CAAV,CACfZ,IADe,CACVC,GAAG,IAAI;AACT,WAAQa,IAAI,CAACC,SAAL,CAAed,GAAG,CAAC,CAAD,CAAlB,CAAR;AACH,GAHe,EAIfe,KAJe,CAITC,GAAG,IAAI;AACV,WAAO,IAAP;AACH,GANe,CAApB;AAQAZ,EAAAA,OAAO,CAACC,GAAR,CAAYb,KAAZ;AAEA,SAAO;AACHF,IAAAA,KAAK,EAAE;AACHE,MAAAA,KAAK,EAAEA;AADJ;AADJ,GAAP;AAKH;AAED,eAAeH,KAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { parseCookies } from '../../lib/parseCookies'\r\nimport { useRouter } from \"next/router\";\r\nimport ArticleDisplayer from '../../components/elements/article/ArticleDisplayer'\r\nimport querystring from 'querystring'\r\nimport { postRequest } from '../../services/api/post/postRequest'\r\nimport { getRequest } from '../../services/api/get/getRequest'\r\nimport { strict } from 'assert';\r\n\r\nconst Story = props => {\r\n\r\n    let content = (\r\n        <div className=\"w-full h-screen bg-xw-100\" >\r\n            <ArticleDisplayer story={props.story} csrf={props.cookies['csrftoken']} />\r\n        </div>\r\n    );\r\n\r\n    return content;\r\n}\r\n\r\nexport async function getStaticPaths() {\r\n\r\n    const stories = await getRequest(process.env.domain + '/api/articles/')\r\n        .then(res => {\r\n            return (res)\r\n        })\r\n\r\n    const paths = stories.map((story) => `/stories/${story.url}`)\r\n\r\n    console.log(paths)\r\n\r\n    return { paths, fallback: false }\r\n}\r\n\r\nexport async function getStaticProps(context) {\r\n\r\n    console.log(context)\r\n\r\n    let current = context.params.story\r\n    let id = current.split('-')[0]\r\n\r\n    const story = await getRequest(process.env.domain + '/api/articles/' + id)\r\n        .then(res => {\r\n            return (JSON.stringify(res[0]))\r\n        })\r\n        .catch(err => {\r\n            return null\r\n        })\r\n\r\n    console.log(story)\r\n\r\n    return {\r\n        props: {\r\n            story: story\r\n        }\r\n    }\r\n}\r\n\r\nexport default Story"]},"metadata":{},"sourceType":"module"}