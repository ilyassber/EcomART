{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Soguma\\\\MorMade_project\\\\webweb\\\\components\\\\layout.js\";\n\nvar __jsx = React.createElement;\nimport React, { useEffect, useRef, useState, useLayoutEffect } from 'react';\nimport Wrapper from './widgets/utilities/wrapper';\nimport NavBar from './elements/nav-bar/navbar';\nimport SideMenu from './elements/side-menu/sideMenu';\nimport SearchGate from './elements/searchGate/searchGate';\nimport BlackFocusScreen from './elements/blackFocusScreen/BlackFocusScreen';\nimport { getRequest } from '../services/api/get/getRequest';\nimport Footer from './elements/footer/footer'; // fake data \n\nvar categories = [{\n  tag: \"clothes\",\n  sous_tags: [\"shoes\", \"t-shirts\", \"jeans\", \"socks\"],\n  tag_image: \"images/tags/clothes/clothes-1.jpg\"\n}, {\n  tag: \"jewlery\",\n  sous_tags: [\"neckchains\", \"rings\", \"bracelets\", \"earrings\", \"watches\"],\n  tag_image: \"images/tags/jewlery/jewlery-1.jpg\"\n}, {\n  tag: \"furniture\",\n  sous_tags: [\"tables\", \"beds\", \"chair\", \"sofa\", \"wardrobes\"],\n  tag_image: \"images/tags/furniture/furniture-1.jpg\"\n}, {\n  tag: \"gifts\",\n  sous_tags: [\"parfum\", \"braclet\", \"socks\", \"backpack\", \"necklace\", \"wallet\"],\n  tag_image: \"images/tags/gifts/gifts-1.jpg\"\n}, {\n  tag: \"jewlery\",\n  sous_tags: [\"neckchains\", \"rings\", \"bracelets\", \"earrings\", \"watches\"],\n  tag_image: \"images/tags/jewlery/jewlery-1.jpg\"\n}, {\n  tag: \"furniture\",\n  sous_tags: [\"tables\", \"beds\", \"chair\", \"sofa\", \"wardrobes\"],\n  tag_image: \"images/tags/furniture/furniture-1.jpg\"\n}, {\n  tag: \"gifts\",\n  sous_tags: [\"parfum\", \"braclet\", \"socks\", \"backpack\", \"necklace\", \"wallet\"],\n  tag_image: \"images/tags/gifts/gifts-1.jpg\"\n}, {\n  tag: \"jewlery\",\n  sous_tags: [\"neckchains\", \"rings\", \"bracelets\", \"earrings\", \"watches\"],\n  tag_image: \"images/tags/jewlery/jewlery-1.jpg\"\n}, {\n  tag: \"furniture\",\n  sous_tags: [\"tables\", \"beds\", \"chair\", \"sofa\", \"wardrobes\"],\n  tag_image: \"images/tags/furniture/furniture-1.jpg\"\n}, {\n  tag: \"gifts\",\n  sous_tags: [\"parfum\", \"braclet\", \"socks\", \"backpack\", \"necklace\", \"wallet\"],\n  tag_image: \"images/tags/gifts/gifts-1.jpg\"\n}];\nvar links = [{\n  page: 'MAKERS',\n  path: '/makers'\n}, {\n  page: 'REGIONS',\n  path: '/regions'\n}, {\n  page: 'STORIES',\n  path: '/stories'\n}];\n\nvar Layout = function Layout(props) {\n  console.log(\"LYOUT RENDERRR\"); // GLOBAL STATES\n\n  var _useState = useState(null),\n      scroll = _useState[0],\n      setScroll = _useState[1];\n\n  var _useState2 = useState(false),\n      openMenu = _useState2[0],\n      setOpenMenu = _useState2[1]; // menu open/close state\n\n\n  var _useState3 = useState({\n    page: \"HOME\",\n    path: \"/\"\n  }),\n      selectedPage = _useState3[0],\n      setSelectedPage = _useState3[1]; // current selected page\n\n\n  var _useState4 = useState(false),\n      openSearch = _useState4[0],\n      setOpenSearch = _useState4[1]; // search open/close state\n\n\n  var _useState5 = useState({\n    searchHistory: [],\n    searchTarget: \"\",\n    searchTrackedInputText: \"\"\n  }),\n      searchData = _useState5[0],\n      _setSearchData = _useState5[1]; // saved search DATA \n\n\n  var layoutRef = useRef(null); // STATE CALLBACKS\n  // openSearch callBacks\n\n  var changeOpenSearch = function changeOpenSearch() {\n    setOpenSearch(!openSearch);\n  }; // openMenu callBacks\n\n\n  var changeOpenMenu = function changeOpenMenu() {\n    setOpenMenu(!openMenu);\n  }; // selectedPage callBacks\n\n\n  var changeSelectedPage = function changeSelectedPage(link) {\n    setSelectedPage(link);\n  }; // useEffect(\n  //     () => {\n  //         useLockBodyScroll()\n  //     }\n  //     , []\n  // )\n\n\n  useLockBodyScroll(); // Hook\n\n  function useLockBodyScroll() {\n    useEffect(function () {\n      // Get original body overflow\n      var originalStyle = window.getComputedStyle(document.body).overflow; //  Prevent scrolling on mount\n\n      if (openSearch) {\n        document.body.style.overflow = 'hidden';\n        setScroll(true);\n      } else {\n        setScroll(false);\n        document.body.style.overflow = originalStyle;\n      } //  Re-enable scrolling when component unmounts\n\n\n      return function () {\n        return document.body.style.overflow = originalStyle;\n      };\n    }, []); // Empty array ensures effect is only run on mount and unmount\n  }\n\n  function useLockBodyScroll() {\n    // Get original body overflow\n    useEffect(function () {\n      if (layoutRef.current) {\n        // Prevent scrolling on mount\n        layoutRef.current.style.overflow = 'hidden'; // Re-enable scrolling when component unmounts\n      }\n    }, []);\n  } // DISPLAYED CONTENT \n\n\n  var FooterBar = function FooterBar() {\n    return (// <div className={`${openSearch ? \"hidden\" : \"\" } w-full h-full`}>\n      __jsx(Footer, {\n        categories: categories,\n        max_shown: 5,\n        links: links,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 9\n        }\n      }) // </div>\n\n    );\n  };\n\n  var Page = function Page() {\n    return (// <div className={`${openSearch ? \"hidden\" : \"\" } w-full h-full`}>\n      props.children // </div>\n\n    );\n  };\n\n  var Menu = function Menu() {\n    return openMenu && __jsx(SideMenu, {\n      menuClick: openMenu,\n      changeMenuClicked: changeOpenMenu,\n      currentPage: selectedPage,\n      changeCurrentPage: changeSelectedPage,\n      categories: categories,\n      max_shown: 8,\n      links: links,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 21\n      }\n    });\n  };\n\n  var NavigationBar = function NavigationBar() {\n    return __jsx(NavBar, {\n      changeMenuClicked: changeOpenMenu,\n      openSearch: openSearch,\n      openSearchClickHandler: changeOpenSearch,\n      logo: \"/logo.png\",\n      categories: props.tags,\n      max_shown: 8,\n      links: links,\n      home: \"/\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }\n    });\n  };\n\n  var SearchPage = function SearchPage() {\n    return openSearch && __jsx(SearchGate, {\n      changeOpenSearch: changeOpenSearch,\n      searchData: searchData,\n      setSearchData: function setSearchData(data) {\n        return _setSearchData(data);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 23\n      }\n    });\n  };\n\n  var BlackFocusOff = function BlackFocusOff() {\n    return openMenu && __jsx(BlackFocusScreen, {\n      onClick: changeOpenMenu,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 23\n      }\n    });\n  };\n\n  var SpacingTop = function SpacingTop() {\n    return __jsx(Wrapper, {\n      style: \"w-full absolute top-0 h-48\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }\n    });\n  }; // RENDER THAT SHIT\n\n\n  return __jsx(\"div\", {\n    ref: layoutRef,\n    className: \"flex flex-col w-full h-full overflow-scroll bg-scroll\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 9\n    }\n  }, __jsx(Menu, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 13\n    }\n  }), __jsx(BlackFocusOff, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 13\n    }\n  }), __jsx(NavigationBar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 13\n    }\n  }), __jsx(SpacingTop, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 13\n    }\n  }), __jsx(SearchPage, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 13\n    }\n  }), __jsx(Page, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 13\n    }\n  }), __jsx(FooterBar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default Layout;","map":{"version":3,"sources":["C:/Users/Soguma/MorMade_project/webweb/components/layout.js"],"names":["React","useEffect","useRef","useState","useLayoutEffect","Wrapper","NavBar","SideMenu","SearchGate","BlackFocusScreen","getRequest","Footer","categories","tag","sous_tags","tag_image","links","page","path","Layout","props","console","log","scroll","setScroll","openMenu","setOpenMenu","selectedPage","setSelectedPage","openSearch","setOpenSearch","searchHistory","searchTarget","searchTrackedInputText","searchData","setSearchData","layoutRef","changeOpenSearch","changeOpenMenu","changeSelectedPage","link","useLockBodyScroll","originalStyle","window","getComputedStyle","document","body","overflow","style","current","FooterBar","Page","children","Menu","NavigationBar","tags","SearchPage","data","BlackFocusOff","SpacingTop"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState, useLayoutEffect } from 'react'\r\nimport Wrapper from './widgets/utilities/wrapper'\r\nimport NavBar from './elements/nav-bar/navbar'\r\nimport SideMenu from './elements/side-menu/sideMenu'\r\nimport SearchGate from './elements/searchGate/searchGate'\r\nimport BlackFocusScreen from './elements/blackFocusScreen/BlackFocusScreen'\r\nimport { getRequest } from '../services/api/get/getRequest'\r\nimport Footer from './elements/footer/footer'\r\n\r\n// fake data \r\nconst categories = [\r\n    {\r\n        tag: \"clothes\",\r\n        sous_tags: [\"shoes\", \"t-shirts\", \"jeans\", \"socks\"],\r\n        tag_image: \"images/tags/clothes/clothes-1.jpg\"\r\n    },\r\n    {\r\n        tag: \"jewlery\",\r\n        sous_tags: [\"neckchains\", \"rings\", \"bracelets\", \"earrings\", \"watches\"],\r\n        tag_image: \"images/tags/jewlery/jewlery-1.jpg\"\r\n    },\r\n    {\r\n        tag: \"furniture\",\r\n        sous_tags: [\"tables\", \"beds\", \"chair\", \"sofa\", \"wardrobes\"],\r\n        tag_image: \"images/tags/furniture/furniture-1.jpg\"\r\n    },\r\n    {\r\n        tag: \"gifts\",\r\n        sous_tags: [\"parfum\", \"braclet\", \"socks\", \"backpack\", \"necklace\", \"wallet\"],\r\n        tag_image: \"images/tags/gifts/gifts-1.jpg\"\r\n    },\r\n    {\r\n        tag: \"jewlery\",\r\n        sous_tags: [\"neckchains\", \"rings\", \"bracelets\", \"earrings\", \"watches\"],\r\n        tag_image: \"images/tags/jewlery/jewlery-1.jpg\"\r\n    },\r\n    {\r\n        tag: \"furniture\",\r\n        sous_tags: [\"tables\", \"beds\", \"chair\", \"sofa\", \"wardrobes\"],\r\n        tag_image: \"images/tags/furniture/furniture-1.jpg\"\r\n    },\r\n    {\r\n        tag: \"gifts\",\r\n        sous_tags: [\"parfum\", \"braclet\", \"socks\", \"backpack\", \"necklace\", \"wallet\"],\r\n        tag_image: \"images/tags/gifts/gifts-1.jpg\"\r\n    },\r\n    {\r\n        tag: \"jewlery\",\r\n        sous_tags: [\"neckchains\", \"rings\", \"bracelets\", \"earrings\", \"watches\"],\r\n        tag_image: \"images/tags/jewlery/jewlery-1.jpg\"\r\n    },\r\n    {\r\n        tag: \"furniture\",\r\n        sous_tags: [\"tables\", \"beds\", \"chair\", \"sofa\", \"wardrobes\"],\r\n        tag_image: \"images/tags/furniture/furniture-1.jpg\"\r\n    },\r\n    {\r\n        tag: \"gifts\",\r\n        sous_tags: [\"parfum\", \"braclet\", \"socks\", \"backpack\", \"necklace\", \"wallet\"],\r\n        tag_image: \"images/tags/gifts/gifts-1.jpg\"\r\n    }\r\n]\r\n\r\nconst links = [\r\n    {\r\n        page: 'MAKERS',\r\n        path: '/makers'\r\n    },\r\n    {\r\n        page: 'REGIONS',\r\n        path: '/regions'\r\n\r\n    },\r\n    {\r\n        page: 'STORIES',\r\n        path: '/stories'\r\n    }\r\n]\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst Layout = (props) => {\r\n\r\n    console.log(\"LYOUT RENDERRR\")\r\n    // GLOBAL STATES\r\n\r\n    const [scroll, setScroll] = useState(null)\r\n    const [openMenu, setOpenMenu] = useState(false)   // menu open/close state\r\n    const [selectedPage, setSelectedPage] = useState({ page: \"HOME\", path: \"/\" }) // current selected page\r\n    const [openSearch, setOpenSearch] = useState(false)   // search open/close state\r\n    const [searchData, setSearchData] = useState({\r\n        searchHistory: [],\r\n        searchTarget: \"\",\r\n        searchTrackedInputText: \"\",\r\n    })  // saved search DATA \r\n\r\n    const layoutRef = useRef(null) \r\n\r\n\r\n    // STATE CALLBACKS\r\n\r\n\r\n    // openSearch callBacks\r\n\r\n    const changeOpenSearch = () => {\r\n        setOpenSearch(!openSearch)\r\n    }\r\n\r\n    // openMenu callBacks\r\n\r\n    const changeOpenMenu = () => {\r\n        setOpenMenu(!openMenu)\r\n    }\r\n\r\n    // selectedPage callBacks\r\n\r\n    const changeSelectedPage = (link) => {\r\n        setSelectedPage(link)\r\n    }\r\n\r\n\r\n    // useEffect(\r\n    //     () => {\r\n    //         useLockBodyScroll()\r\n    //     }\r\n    //     , []\r\n    // )\r\n\r\n    useLockBodyScroll()\r\n    // Hook\r\nfunction useLockBodyScroll() {\r\n    useEffect(() => {\r\n     // Get original body overflow\r\n     const originalStyle = window.getComputedStyle(document.body).overflow;\r\n    //  Prevent scrolling on mount\r\n     if (openSearch){\r\n        document.body.style.overflow = 'hidden';\r\n     setScroll(true)\r\n    } else\r\n    {         setScroll(false)\r\n            document.body.style.overflow = originalStyle\r\n    }\r\n    //  Re-enable scrolling when component unmounts\r\n     return () => document.body.style.overflow = originalStyle;\r\n     }, []); // Empty array ensures effect is only run on mount and unmount\r\n  }\r\n\r\n    function useLockBodyScroll() {\r\n         // Get original body overflow\r\n         useEffect(\r\n             () => {\r\n                if (layoutRef.current)\r\n                {\r\n                // Prevent scrolling on mount\r\n                   layoutRef.current.style.overflow = 'hidden';\r\n               \r\n                   // Re-enable scrolling when component unmounts\r\n               }\r\n                        \r\n             }\r\n             , []\r\n         )\r\n    }\r\n\r\n    // DISPLAYED CONTENT \r\n\r\n    const FooterBar = () => (\r\n        // <div className={`${openSearch ? \"hidden\" : \"\" } w-full h-full`}>\r\n\r\n        <Footer categories={categories}\r\n            max_shown={5}\r\n            links={links}\r\n        />\r\n        // </div>\r\n    )\r\n\r\n    const Page = () => (\r\n        // <div className={`${openSearch ? \"hidden\" : \"\" } w-full h-full`}>\r\n\r\n        props.children\r\n        // </div>\r\n\r\n    )\r\n\r\n    const Menu = () => (\r\n        openMenu && <SideMenu menuClick={openMenu}\r\n            changeMenuClicked={changeOpenMenu}\r\n            currentPage={selectedPage}\r\n            changeCurrentPage={changeSelectedPage}\r\n            categories={categories}\r\n            max_shown={8}\r\n            links={links}\r\n        />\r\n    )\r\n\r\n    const NavigationBar = () => (\r\n        <NavBar changeMenuClicked={changeOpenMenu}\r\n            openSearch={openSearch}\r\n            openSearchClickHandler={changeOpenSearch}\r\n            logo=\"/logo.png\"\r\n            categories={props.tags}\r\n            max_shown={8}\r\n            links={links}\r\n            home=\"/\"\r\n        />\r\n    )\r\n\r\n    const SearchPage = () => (\r\n        openSearch && <SearchGate changeOpenSearch={changeOpenSearch}\r\n            searchData={searchData}\r\n            setSearchData={(data) => setSearchData(data)}\r\n        />\r\n    )\r\n\r\n    const BlackFocusOff = () => (\r\n        (openMenu) && <BlackFocusScreen onClick={changeOpenMenu} />\r\n    )\r\n\r\n    const SpacingTop = () => (\r\n        <Wrapper style=\"w-full absolute top-0 h-48\" />\r\n    )\r\n\r\n\r\n    // RENDER THAT SHIT\r\n\r\n    return (\r\n        <div ref={layoutRef} className=\"flex flex-col w-full h-full overflow-scroll bg-scroll\" >\r\n\r\n            <Menu />\r\n            <BlackFocusOff />\r\n            <NavigationBar />\r\n            <SpacingTop />\r\n            <SearchPage />\r\n            <Page />\r\n            <FooterBar />\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Layout"]},"metadata":{},"sourceType":"module"}