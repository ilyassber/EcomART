{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Soguma\\\\MorMade_project\\\\webweb\\\\components\\\\elements\\\\nav-bar\\\\categoriesBar\\\\categoriesBar.js\";\n\nvar __jsx = React.createElement;\nimport React, { useState, useEffect, useRef } from 'react';\nimport SousCategoriesBar from './sousCategoriesBar';\nimport { Brand } from '../../../logo';\n\nvar SiteNameContainer = function SiteNameContainer(_ref) {\n  var style = _ref.style;\n  return __jsx(\"div\", {\n    className: style,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 5\n    }\n  }, __jsx(Brand, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport default function CategoriesBar(_ref2) {\n  var _this2 = this;\n\n  var style = _ref2.style,\n      max_shown = _ref2.max_shown,\n      categories = _ref2.categories,\n      brandNameStyle = _ref2.brandNameStyle;\n\n  var _useState = useState({\n    open: false,\n    categorie: null\n  }),\n      openCategorie = _useState[0],\n      setOpenCategorie = _useState[1]; // open/close + the categorie to be shown in sougategories \n\n\n  var categorieRef = useRef(null); // reference on \"categories list\" : to track outside click \n\n  console.log(\" Categorie RENDER\"); // load clicked categorie and set sousCategories to open  \n\n  var clickOnCategorie = function clickOnCategorie(categorie) {\n    setOpenCategorie({\n      open: true,\n      categorie: categorie\n    });\n    console.log(\" openCategorie : ->  \", openCategorie);\n  }; // add eventListener to track clicks : close souscategories bar when an outside click was detected  \n\n\n  useEffect(function () {\n    function categorieClickHandler(event) {\n      if (categorieRef.current && !categorieRef.current.contains(event.target)) setOpenCategorie({\n        open: false,\n        categorie: null\n      });\n    }\n\n    document.addEventListener(\"mousedown\", categorieClickHandler);\n    return function () {\n      document.removeEventListener(\"mousedown\", categorieClickHandler);\n    };\n  }, []);\n  return __jsx(\"div\", {\n    ref: categorieRef,\n    className: style,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"relative w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"flex flex-row justify-between h-12 w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"flex flex-row justify-start items-center h-full flex-1 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, __jsx(SiteNameContainer, {\n    style: brandNameStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 21\n    }\n  })), __jsx(\"ul\", {\n    className: \"flex flex-row justify-center items-center h-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, categories.map(function (categorie, index) {\n    return index < max_shown && __jsx(\"li\", {\n      key: index,\n      className: \"flex px-4 h-full justify-center items-center cursor-pointer font-lato text-base font-black \".concat(openCategorie.categorie && openCategorie.categorie === categorie ? \"text-yellow-600\" : \"text-gray-900 hover:text-gray-700\"),\n      onClick: function onClick() {\n        return clickOnCategorie(categorie);\n      },\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 48\n      }\n    }, categorie.name.toUpperCase());\n  })), __jsx(\"div\", {\n    className: \"flex flex-1 h-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  })), openCategorie.open && __jsx(SousCategoriesBar, {\n    closeClickHandler: function closeClickHandler() {\n      return setOpenCategorie({\n        open: false,\n        categorie: null\n      });\n    },\n    categorie: openCategorie.categorie,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 36\n    }\n  })));\n}","map":{"version":3,"sources":["C:/Users/Soguma/MorMade_project/webweb/components/elements/nav-bar/categoriesBar/categoriesBar.js"],"names":["React","useState","useEffect","useRef","SousCategoriesBar","Brand","SiteNameContainer","style","CategoriesBar","max_shown","categories","brandNameStyle","open","categorie","openCategorie","setOpenCategorie","categorieRef","console","log","clickOnCategorie","categorieClickHandler","event","current","contains","target","document","addEventListener","removeEventListener","map","index","name","toUpperCase"],"mappings":"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","sourcesContent":["import React, { useState, useEffect , useRef } from 'react'\r\nimport SousCategoriesBar from './sousCategoriesBar'\r\nimport { Brand } from '../../../logo'\r\n\r\n\r\nconst SiteNameContainer = ({style}) => (\r\n        \r\n    <div className={style}>\r\n        <Brand />\r\n    </div>\r\n\r\n)\r\n\r\n\r\nexport default function CategoriesBar({ style ,max_shown, categories, brandNameStyle }) {\r\n\r\n    const [openCategorie, setOpenCategorie] = useState({open : false, categorie : null}) // open/close + the categorie to be shown in sougategories \r\n    const categorieRef = useRef(null) // reference on \"categories list\" : to track outside click \r\n\r\n\r\n\r\n    console.log(\" Categorie RENDER\")\r\n\r\n\r\n    // load clicked categorie and set sousCategories to open  \r\n    const clickOnCategorie = (categorie) => {\r\n        setOpenCategorie({open : true, categorie : categorie})\r\n        console.log(\" openCategorie : ->  \", openCategorie) \r\n    }\r\n\r\n\r\n    // add eventListener to track clicks : close souscategories bar when an outside click was detected  \r\n    useEffect(\r\n        () => {\r\n\r\n            function categorieClickHandler (event) {\r\n                if (categorieRef.current && !categorieRef.current.contains(event.target))\r\n                    setOpenCategorie({open : false, categorie : null})\r\n            }\r\n\r\n            document.addEventListener(\"mousedown\", categorieClickHandler)\r\n            \r\n            return () => {\r\n                document.removeEventListener(\"mousedown\", categorieClickHandler)\r\n            }\r\n        \r\n        },[]\r\n    )\r\n\r\n\r\n    return (\r\n        <div ref={categorieRef}  className={style}>\r\n            <div className=\"relative w-full\">\r\n            <div className=\"flex flex-row justify-between h-12 w-full\">\r\n                <div className=\"flex flex-row justify-start items-center h-full flex-1 \">\r\n                    <SiteNameContainer style={brandNameStyle}\r\n                    />\r\n                </div>\r\n                <ul className=\"flex flex-row justify-center items-center h-full\" >\r\n                    {categories.map((categorie, index) =>\r\n                        (index < max_shown) && <li  key={ index }\r\n                                                    className={`flex px-4 h-full justify-center items-center cursor-pointer font-lato text-base font-black ${(openCategorie.categorie && openCategorie.categorie === categorie) ? \"text-yellow-600\" : \"text-gray-900 hover:text-gray-700\" }`}\r\n                                                    onClick={() => clickOnCategorie(categorie)}\r\n                        >\r\n                        {categorie.name.toUpperCase()}</li>\r\n                    )}\r\n                </ul>\r\n                <div className=\"flex flex-1 h-full\">\r\n                </div>\r\n            </div>\r\n            {openCategorie.open && <SousCategoriesBar closeClickHandler={() => setOpenCategorie({open : false, categorie : null})}\r\n                categorie={openCategorie.categorie}\r\n            />}\r\n            </div>\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}