{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { TxtField } from '../../graphics/textFields';\nimport { BtnBbw } from '../../graphics/buttons';\nimport { registerUser } from '../../../services/authentication/registerUser';\n\nconst WaitList = props => {\n  const {\n    0: emailError,\n    1: setEmailError\n  } = useState(false);\n  const {\n    0: welcome,\n    1: setWelcome\n  } = useState('JOIN OUR NEWSLETTER');\n  const {\n    0: reset,\n    1: setReset\n  } = useState(false);\n  let email;\n\n  const handleEmailChange = event => {\n    email = event.target.value;\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (email != null && email != '') {\n      const data = {\n        username: email.split('@')[0],\n        email: email,\n        role: 'wait_list'\n      };\n      registerUser(data, \"wait_list\", props.csrf).then(response => {\n        if (response.status === \"error\") {\n          setWelcome('Go Back Soon!');\n          console.log('error');\n        } else {\n          setWelcome('THANK YOU, GO BACK SOON!');\n          setReset(true);\n          console.log('success');\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    } else {\n      if (email == null || email == '') {\n        setEmailError(true);\n      }\n\n      if (num == null || num == '') {\n        setNumError(true);\n      }\n    }\n  };\n\n  let content = __jsx(\"div\", {\n    className: props.className\n  }, __jsx(\"div\", {\n    className: \"relative max-w-screen-sm h-auto overflow-hidden\"\n  }, __jsx(\"img\", {\n    className: \"absolute h-full w-full object-cover\",\n    src: \"/street-vendor-b.jpg\"\n  }), __jsx(\"div\", {\n    className: \"relative w-full h-auto p-6 justify-end text-white\"\n  }, __jsx(\"h3\", {\n    className: \"h-auto w-full font-roboto font-bold text-3xl text-left align-left mb-6\"\n  }, \"SOON\"), __jsx(\"h3\", {\n    className: \"h-auto w-full font-bold text-3xl text-right align-right mb-6\"\n  }, 'قريبا'), __jsx(\"span\", {\n    className: \"h-auto w-full font-roboto font-light text-base text-center align-center mb-6\"\n  }, welcome), __jsx(\"div\", {\n    className: \"w-full h-auto flex flex-wrap flex-col items-center mt-2\"\n  }, __jsx(TxtField, {\n    reset: reset,\n    error: emailError,\n    color: \"white\",\n    textColor: \"black\",\n    bgColor: \"white\",\n    borderColor: \"gray-500\",\n    focusColor: \"gray-500\",\n    height: 10,\n    placeholder: \"ENTER YOUR EMAIL HERE\",\n    className: \"w-full max-w-64 mt-2\",\n    onChange: handleEmailChange\n  }), __jsx(\"div\", {\n    className: \"w-full h-full flex-1 content-end flex-wrap mt-4\"\n  }, __jsx(BtnBbw, {\n    className: \"w-full h-10\",\n    weight: \"bold\",\n    value: \"JOIN US\",\n    onClick: handleSubmit\n  }))))));\n\n  return content;\n};\n\nexport default WaitList;","map":null,"metadata":{},"sourceType":"module"}