{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport react, { useState } from 'react';\nimport { Btn } from '../../graphics/buttons';\nimport { TxtArea, TxtField } from '../../graphics/textFields';\nimport Cookies from 'js-cookie';\nimport { postRequest } from '../../../services/api/post/postRequest';\nimport querystring from 'querystring';\n\nvar LeaveMessage = function LeaveMessage(props) {\n  var _useState = useState(false),\n      emailError = _useState[0],\n      setEmailError = _useState[1];\n\n  var _useState2 = useState('LEAVE US A MESSAGE'),\n      welcome = _useState2[0],\n      setWelcome = _useState2[1];\n\n  var _useState3 = useState(false),\n      reset = _useState3[0],\n      setReset = _useState3[1];\n\n  var email;\n  var message;\n\n  var handleEmailChange = function handleEmailChange(event) {\n    email = event.target.value;\n  };\n\n  var handleMessageChange = function handleMessageChange(event) {\n    message = event.target.value;\n  };\n\n  var handleSubmit = function handleSubmit(event) {\n    event.preventDefault();\n\n    if (email != null && email != '') {\n      var data = {\n        email: email,\n        text: message\n      };\n      var _content = {\n        operation: 'register',\n        data: querystring.stringify(data)\n      };\n      postRequest(querystring.stringify(_content), Cookies.get('csrftoken'), process.env.domain + '/api/messages/').then(function (response) {\n        console.log(response);\n\n        if (response.status === \"error\") {\n          setWelcome('Something Wrong!');\n          console.log('error');\n        } else {\n          setWelcome('THANK YOU!');\n          setReset(true);\n          console.log('success');\n        }\n      })[\"catch\"](function (error) {\n        console.log(error);\n      });\n    } else {\n      if (email == null || email == '') {\n        setEmailError(true);\n      }\n    }\n  };\n\n  var content = __jsx(\"div\", {\n    className: props.className\n  }, __jsx(\"div\", {\n    className: \"w-full h-full flex flex-col items-left\"\n  }, __jsx(\"strong\", {\n    className: \"font-roboto font-black text-3xl text-white mb-4\"\n  }, welcome), __jsx(\"div\", null, __jsx(TxtField, {\n    reset: reset,\n    disabled: reset,\n    error: emailError,\n    borderColor: \"white\",\n    textColor: \"white\",\n    focusColor: \"white\",\n    bgColor: \"transparent\",\n    disableColor: \"gray-900\",\n    height: 10,\n    placeholder: \"EMAIL\",\n    placeholderColor: \"white\",\n    className: \"w-full max-w-64 mt-2\",\n    onChange: handleEmailChange\n  }), __jsx(TxtArea, {\n    reset: reset,\n    disabled: reset,\n    borderColor: \"white\",\n    textColor: \"white\",\n    focusColor: \"white\",\n    bgColor: \"transparent\",\n    disableColor: \"gray-900\",\n    height: \"full\",\n    placeholder: \"Message...\",\n    placeholderColor: \"white\",\n    onChange: handleMessageChange,\n    className: \"w-full max-w-64 mt-2\"\n  }), __jsx(\"div\", {\n    className: \"w-full h-auto flex flex-row-reverse\"\n  }, __jsx(Btn, {\n    disabled: reset,\n    className: \"w-full h-auto\",\n    borderColor: \"white\",\n    bgColor: \"transparent\",\n    textColor: \"white\",\n    textSize: \"sm\",\n    textWeight: \"medium\",\n    hoverColor: \"gray-900\",\n    disableColor: \"gray-900\",\n    height: 10,\n    value: \"Send\",\n    onClick: handleSubmit\n  })))));\n\n  return content;\n};\n\nexport default LeaveMessage;","map":null,"metadata":{},"sourceType":"module"}