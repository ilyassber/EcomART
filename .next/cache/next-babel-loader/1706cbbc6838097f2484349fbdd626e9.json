{"ast":null,"code":"//import useSWR from 'swr'\nimport axios from 'axios';\n/*\r\nconst fetcher = (params) => axios.post(params.url, params.form_data, {\r\n    headers: {\r\n        'content-type': 'multipart/form-data'\r\n    }\r\n}).then(res => res.json())\r\n*/\n\nexport function uploadImage(e, file, csrttoken) {\n  return new Promise((resolve, reject) => {\n    let form_data = new FormData();\n    form_data.append('name', file.name);\n    form_data.append('image', file, file.name);\n    const url = process.env.domain + '/api/images/';\n    axios.post(url, form_data, {\n      headers: {\n        'content-type': 'multipart/form-data',\n        'X-CSRFToken': csrttoken\n      }\n    }).then(response => {\n      resolve(response);\n    });\n    /*\r\n    const { data, error } = useSWR({url: url, form_data: form_data}, fetcher)\r\n    return {\r\n        user: data,\r\n        isLoading: !error && !data,\r\n        isError: error\r\n    }\r\n    */\n  });\n}","map":{"version":3,"sources":["C:/Users/1337/Documents/WorkSpace/ecomart/dev/mormadeWebSite/services/api/uploadImage.js"],"names":["axios","uploadImage","e","file","csrttoken","Promise","resolve","reject","form_data","FormData","append","name","url","process","env","domain","post","headers","then","response"],"mappings":"AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA;;;;;;;;AAOA,OAAO,SAASC,WAAT,CAAqBC,CAArB,EAAwBC,IAAxB,EAA8BC,SAA9B,EAAyC;AAC5C,SAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpC,QAAIC,SAAS,GAAG,IAAIC,QAAJ,EAAhB;AACAD,IAAAA,SAAS,CAACE,MAAV,CAAiB,MAAjB,EAAyBP,IAAI,CAACQ,IAA9B;AACAH,IAAAA,SAAS,CAACE,MAAV,CAAiB,OAAjB,EAA0BP,IAA1B,EAAgCA,IAAI,CAACQ,IAArC;AACA,UAAMC,GAAG,GAAGC,OAAO,CAACC,GAAR,CAAYC,MAAZ,GAAqB,cAAjC;AACAf,IAAAA,KAAK,CAACgB,IAAN,CAAWJ,GAAX,EAAgBJ,SAAhB,EAA2B;AACvBS,MAAAA,OAAO,EAAE;AACL,wBAAgB,qBADX;AAEL,uBAAeb;AAFV;AADc,KAA3B,EAKGc,IALH,CAKSC,QAAD,IAAc;AAClBb,MAAAA,OAAO,CAACa,QAAD,CAAP;AACH,KAPD;AAQA;;;;;;;;AAQH,GArBM,CAAP;AAsBH","sourcesContent":["//import useSWR from 'swr'\r\nimport axios from 'axios'\r\n/*\r\nconst fetcher = (params) => axios.post(params.url, params.form_data, {\r\n    headers: {\r\n        'content-type': 'multipart/form-data'\r\n    }\r\n}).then(res => res.json())\r\n*/\r\nexport function uploadImage(e, file, csrttoken) {\r\n    return new Promise((resolve, reject) => {\r\n        let form_data = new FormData();\r\n        form_data.append('name', file.name)\r\n        form_data.append('image', file, file.name)\r\n        const url = process.env.domain + '/api/images/'\r\n        axios.post(url, form_data, {\r\n            headers: {\r\n                'content-type': 'multipart/form-data',\r\n                'X-CSRFToken': csrttoken\r\n            }\r\n        }).then((response) => {\r\n            resolve(response)\r\n        })\r\n        /*\r\n        const { data, error } = useSWR({url: url, form_data: form_data}, fetcher)\r\n        return {\r\n            user: data,\r\n            isLoading: !error && !data,\r\n            isError: error\r\n        }\r\n        */\r\n    })\r\n}"]},"metadata":{},"sourceType":"module"}