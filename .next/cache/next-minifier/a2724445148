{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{vasz:function(e,t,a){\"use strict\";a.r(t);var n=a(\"q1tI\"),o=a.n(n),l=a(\"vDqi\"),s=a.n(l),c=a(\"tH+X\"),i=o.a.createElement,r=function(e){return i(\"div\",{className:e.className},i(\"div\",{className:\"container h-full w-auto content-center mx-auto flex flex-wrap\"},i(\"strong\",{className:\"font-lato font-black text-3xl text-gray-900\"},\"MORMADE\")))},u=o.a.createElement,m=function(e){return u(\"div\",{className:e.className},u(\"div\",{className:\"rounded-full h-full w-full flex items-center justify-center\"},u(\"img\",{src:e.src})))},f=o.a.createElement,d=function(e){var t=Object(n.useRef)(null);return f(\"div\",{className:e.className},f(\"div\",{className:\"relative m-1\"},f(\"input\",{className:\"absolute invisible\",ref:t,accept:\"image/jpeg, image/jpg, image/png\",multiple:!0,type:\"file\",onChange:function(t){e.onChange(Array.from(t.target.files))}}),f(\"div\",{className:\"container flex content-center flex-wrap text-center h-32 w-32 border border-1 border-gray-900 hover:bg-xw-200\",role:\"button\",onClick:function(){t.current.click()}},f(\"span\",{className:\"text-center h-auto w-full\"},\"Upload Photo\"))))},p=o.a.createElement,w=function(e){return p(\"div\",{className:e.className},p(\"div\",{className:\"relative h-full w-full bg-yellow-300\"},p(\"img\",{className:\"absolute w-full h-full object-cover\",src:e.src}),p(\"div\",{className:\"absolute top-0 right-0 container flex content-center flex-wrap text-center h-6 w-6 bg-opacity-50 bg-gray-700 rounded-full hover:bg-gray-900 focus:outline-none m-1\",role:\"button\",onClick:function(){return e.onRemove(e.index)}},p(\"span\",{className:\"text-center font-sans font-bold text-xw-100 h-auto w-full\"},\"x\"))))},v=o.a.createElement,g=function(e){return v(\"div\",{className:e.className},v(\"div\",{className:\"h-full w-auto container content-center mx-auto flex flex-wrap\"},v(m,{className:\"w-5 h-5\",src:\"/profile.png\"}),v(\"button\",{className:\"focus:outline-none\",type:\"button\",onClick:e.onClick},v(\"p\",{className:\"font-sans font-medium text-sm text-gray-900 text-center ml-2\"},e.username))))},h=o.a.createElement,b=function(e){var t=Object(n.useState)(!1),a=t[0],o=t[1],l=!1;return h(\"div\",{className:e.className},h(\"div\",{className:\"fixed z-50 h-12 w-full flex bg-white\"},h(\"div\",{className:\"flex flex-row\"},h(r,{className:\"h-full w-auto ml-6\"})),h(\"div\",{className:\"w-full flex flex-row-reverse\"},h(g,{className:\"h-full w-auto mr-6\",username:\"ilyass\",onClick:function(){l=!0,console.log(l),o(1!=a)}}))),h(k,{className:\"z-50\",cookies:e.cookies,drop:a,callBack:function(){l?l=!1:(console.log(\"cancel\"),o(!1))}}))},N=a(\"oD+g\");var x=o.a.createElement,k=function(e){var t,a,o=x(\"div\",{className:\"\"},x(\"div\",{className:\"hover:bg-xw-100 w-24 border border-gray-900 bg-white\"},x(\"button\",{className:\"focus:outline-none font-sans font-medium text-gray-900 text-sm ml-2\",type:\"button\",onClick:function(){Object(N.a)({},\"logout\",e.cookies.csrftoken)}},\"logout\"))),l=Object(n.useRef)(null);t=l,a=function(t){\"keydown\"!=t.type?e.callBack():27==t.keyCode&&e.callBack()},Object(n.useEffect)((function(){var e=function(e){t.current&&!t.current.contains(e.target)&&setTimeout((function(){return a(e)}),200)};return document.addEventListener(\"mousedown\",e),document.addEventListener(\"touchstart\",e),document.addEventListener(\"keydown\",e),function(){document.removeEventListener(\"mousedown\",e),document.removeEventListener(\"touchstart\",e),document.removeEventListener(\"keydown\",e)}}),[t,a]);var s=x(\"div\",{className:e.className},x(\"div\",{className:\"fixed z-50 top-0 right-0 mr-4 mt-10\"})),c=x(\"div\",{className:e.className},x(\"div\",{ref:l,className:\"fixed z-50 top-0 right-0 mr-4 mt-10\"},o));return 1==e.drop?c:s},y=a(\"IOqG\"),C=o.a.createElement,O=function(e){var t=Object(n.useState)(e.clicked),a=t[0],o=t[1],l=e.data.map((function(t){return t.id==a?C(y.a,{className:\"w-full h-auto\",key:t.id,value:t.value,clicked:\"true\",onClick:function(){o(t.id),e.onClick(t.id)}}):C(y.a,{className:\"w-full h-auto\",key:t.id,value:t.value,clicked:\"false\",onClick:function(){o(t.id),e.onClick(t.id)}})}));return C(\"div\",{className:e.className},C(\"div\",{className:\"h-full w-full m-4\"},l))},j=o.a.createElement,E=function(e){return j(\"div\",{className:e.className},j(\"div\",{className:\"w-full h-auto bg-gradient-to-r from-orange-200 to-yellow-200 flex felx-wrap box-content overflow-hidden pt-1 pb-1\"},j(\"div\",{className:\"animate-ticker w-auto h-auto box-content flex felx-wrap\"},j(\"label\",{className:\"h-auto w-auto inline-block whitespace-no-wrap font-sans font-medium outline-none\"},\". \\u2009\\u2009\\u2009\\u2009 \\u0645\\u0631\\u062d\\u0628\\u0627 \\u0628\\u0643 \\u0641\\u064a \\u0627\\u0644\\u0645\\u063a\\u0631\\u0628 \\u2009\\u2009\\u2009\\u2009 \"),j(\"label\",{className:\"h-auto w-auto inline-block whitespace-no-wrap font-sans font-medium outline-none\"},\". \\u2009\\u2009\\u2009\\u2009 Welcome to Morocco \\u2009\\u2009\\u2009\\u2009 \"),j(\"label\",{className:\"h-auto w-auto inline-block whitespace-no-wrap font-sans font-medium outline-none\"},\". \\u2009\\u2009\\u2009\\u2009 Bienvenue au Maroc \\u2009\\u2009\\u2009\\u2009 \"),j(\"label\",{className:\"h-auto w-auto inline-block whitespace-no-wrap font-sans font-medium outline-none\"},\". \\u2009\\u2009\\u2009\\u2009 Bienvenido a marruecos \\u2009\\u2009\\u2009\\u2009 \"),j(\"label\",{className:\"h-auto w-auto inline-block whitespace-no-wrap font-sans font-medium outline-none\"},\". \\u2009\\u2009\\u2009\\u2009 \\u6b61\\u8fce\\u4f86\\u5230\\u6469\\u6d1b\\u54e5 \\u2009\\u2009\\u2009\\u2009 \"),j(\"label\",{className:\"h-auto w-auto inline-block whitespace-no-wrap font-sans font-medium outline-none\"},\". \\u2009\\u2009\\u2009\\u2009 Benvenuto in Marocco \\u2009\\u2009\\u2009\\u2009 \"),j(\"label\",{className:\"h-auto w-auto inline-block whitespace-no-wrap font-sans font-medium outline-none\"},\". \\u2009\\u2009\\u2009\\u2009 Welkom in Marokko \\u2009\\u2009\\u2009\\u2009 \"),j(\"label\",{className:\"h-auto w-auto inline-block whitespace-no-wrap font-sans font-medium outline-none\"},\". \\u2009\\u2009\\u2009\\u2009 \\u092e\\u094b\\u0930\\u0915\\u094d\\u0915\\u094b \\u092e\\u0947\\u0902 \\u0906\\u092a\\u0915\\u093e \\u0938\\u094d\\u0935\\u093e\\u0917\\u0924 \\u0939\\u0948 \\u2009\\u2009\\u2009\\u2009 \")),j(\"div\",{className:\"animate-ticker w-auto h-auto box-content flex felx-wrap\"},j(\"label\",{className:\"h-auto w-auto inline-block whitespace-no-wrap font-sans font-medium outline-none\"},\". \\u2009\\u2009\\u2009\\u2009 \\u0645\\u0631\\u062d\\u0628\\u0627 \\u0628\\u0643 \\u0641\\u064a \\u0627\\u0644\\u0645\\u063a\\u0631\\u0628 \\u2009\\u2009\\u2009\\u2009 \"),j(\"label\",{className:\"h-auto w-auto inline-block whitespace-no-wrap font-sans font-medium outline-none\"},\". \\u2009\\u2009\\u2009\\u2009 Welcome to Morocco \\u2009\\u2009\\u2009\\u2009 \"),j(\"label\",{className:\"h-auto w-auto inline-block whitespace-no-wrap font-sans font-medium outline-none\"},\". \\u2009\\u2009\\u2009\\u2009 Bienvenue au Maroc \\u2009\\u2009\\u2009\\u2009 \"),j(\"label\",{className:\"h-auto w-auto inline-block whitespace-no-wrap font-sans font-medium outline-none\"},\". \\u2009\\u2009\\u2009\\u2009 Bienvenido a marruecos \\u2009\\u2009\\u2009\\u2009 \"),j(\"label\",{className:\"h-auto w-auto inline-block whitespace-no-wrap font-sans font-medium outline-none\"},\". \\u2009\\u2009\\u2009\\u2009 \\u6b61\\u8fce\\u4f86\\u5230\\u6469\\u6d1b\\u54e5 \\u2009\\u2009\\u2009\\u2009 \"),j(\"label\",{className:\"h-auto w-auto inline-block whitespace-no-wrap font-sans font-medium outline-none\"},\". \\u2009\\u2009\\u2009\\u2009 Benvenuto in Marocco \\u2009\\u2009\\u2009\\u2009 \"),j(\"label\",{className:\"h-auto w-auto inline-block whitespace-no-wrap font-sans font-medium outline-none\"},\". \\u2009\\u2009\\u2009\\u2009 Welkom in Marokko \\u2009\\u2009\\u2009\\u2009 \"),j(\"label\",{className:\"h-auto w-auto inline-block whitespace-no-wrap font-sans font-medium outline-none\"},\". \\u2009\\u2009\\u2009\\u2009 \\u092e\\u094b\\u0930\\u0915\\u094d\\u0915\\u094b \\u092e\\u0947\\u0902 \\u0906\\u092a\\u0915\\u093e \\u0938\\u094d\\u0935\\u093e\\u0917\\u0924 \\u0939\\u0948 \\u2009\\u2009\\u2009\\u2009 \")),j(\"div\",{className:\"animate-ticker w-auto h-auto box-content flex felx-wrap\"},j(\"label\",{className:\"h-auto w-auto inline-block whitespace-no-wrap font-sans font-medium outline-none\"},\". \\u2009\\u2009\\u2009\\u2009 \\u0645\\u0631\\u062d\\u0628\\u0627 \\u0628\\u0643 \\u0641\\u064a \\u0627\\u0644\\u0645\\u063a\\u0631\\u0628 \\u2009\\u2009\\u2009\\u2009 \"),j(\"label\",{className:\"h-auto w-auto inline-block whitespace-no-wrap font-sans font-medium outline-none\"},\". \\u2009\\u2009\\u2009\\u2009 Welcome to Morocco \\u2009\\u2009\\u2009\\u2009 \"),j(\"label\",{className:\"h-auto w-auto inline-block whitespace-no-wrap font-sans font-medium outline-none\"},\". \\u2009\\u2009\\u2009\\u2009 Bienvenue au Maroc \\u2009\\u2009\\u2009\\u2009 \"),j(\"label\",{className:\"h-auto w-auto inline-block whitespace-no-wrap font-sans font-medium outline-none\"},\". \\u2009\\u2009\\u2009\\u2009 Bienvenido a marruecos \\u2009\\u2009\\u2009\\u2009 \"),j(\"label\",{className:\"h-auto w-auto inline-block whitespace-no-wrap font-sans font-medium outline-none\"},\". \\u2009\\u2009\\u2009\\u2009 \\u6b61\\u8fce\\u4f86\\u5230\\u6469\\u6d1b\\u54e5 \\u2009\\u2009\\u2009\\u2009 \"),j(\"label\",{className:\"h-auto w-auto inline-block whitespace-no-wrap font-sans font-medium outline-none\"},\". \\u2009\\u2009\\u2009\\u2009 Benvenuto in Marocco \\u2009\\u2009\\u2009\\u2009 \"),j(\"label\",{className:\"h-auto w-auto inline-block whitespace-no-wrap font-sans font-medium outline-none\"},\". \\u2009\\u2009\\u2009\\u2009 Welkom in Marokko \\u2009\\u2009\\u2009\\u2009 \"),j(\"label\",{className:\"h-auto w-auto inline-block whitespace-no-wrap font-sans font-medium outline-none\"},\". \\u2009\\u2009\\u2009\\u2009 \\u092e\\u094b\\u0930\\u0915\\u094d\\u0915\\u094b \\u092e\\u0947\\u0902 \\u0906\\u092a\\u0915\\u093e \\u0938\\u094d\\u0935\\u093e\\u0917\\u0924 \\u0939\\u0948 \\u2009\\u2009\\u2009\\u2009 \"))))},P=o.a.createElement,R=function(e){return P(\"article\",{className:e.className},P(\"div\",{className:\"container h-auto w-full content-center\"},P(\"div\",{className:\"relative w-full bg-yellow-300 pb-1/1\"},P(\"img\",{className:\"absolute w-full h-full object-cover\",src:e.data.images[0].path}),P(\"button\",{className:\"absolute top-0 right-0 h-10 w-10 m-2\"},P(\"img\",{src:\"/heart-white.png\"}))),P(\"div\",{className:\"h-auto w-full\"},P(\"h3\",{className:\"leading-tight font-sans font-medium text-base text-gray-900 pt-2\"},e.data.name),P(\"strong\",{className:\"leading-tight font-sans font-normal text-sm text-gray-800\"},e.owner),P(\"p\",{className:\"leading-tight font-sans font-semibold text-lg text-gray-900\"},\"MAD \"+e.data.price))))},S=o.a.createElement,D=function(e){return S(\"div\",{className:e.className},S(\"div\",{className:\"w-full h-auto grid grid-cols-2 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4 gap-1\"},e.data))},L=a(\"o0o1\"),M=a.n(L),T=a(\"6P1G\"),A=a(\"EDLy\"),B=o.a.createElement,U=function(e){var t=Object(n.useState)(null),a=t[0],o=t[1],l=function(t){e.removeImage(t),s()},s=function(){e.files.length>0?o(e.files.map((function(e,t){var a=(window.URL?URL:webkitURL).createObjectURL(e);return console.log(t),B(w,{className:\"w-32 h-32 m-1\",src:a,key:t,index:t,onRemove:l})}))):o(null)};return B(\"div\",{className:e.className},B(\"div\",{className:\"w-full\"},B(\"label\",{className:\"block mb-1 font-sans font-medium\"},\"Add Product Images\"),B(\"div\",{className:\"h-auto w-full container flex content-start flex-wrap border py-2 px-3\"},a,B(d,{onChange:function(t){t.length>0&&(e.addImage(t),s())}}))))};function _(e,t,a){return new Promise((function(e,n){var o=new FormData;o.append(\"name\",t.name),o.append(\"image\",t,t.name);s.a.post(\"http://localhost:8000/api/images/\",o,{headers:{\"content-type\":\"multipart/form-data\",\"X-CSRFToken\":a}}).then((function(t){e(t)}))}))}var I=a(\"s4NR\"),J=a.n(I);function X(e,t){return new Promise((function(a,n){var o={headers:{\"Content-Type\":\"application/x-www-form-urlencoded\",\"X-CSRFToken\":t}};e.pics_list=J.a.stringify(e.pics_list),e.tags=J.a.stringify(e.tags);var l={data:J.a.stringify(e)};console.log(l),s.a.defaults.withCredentials=!0,s.a.post(\"http://localhost:8000/api/products/\",J.a.stringify(l),o).then((function(e){a(e.data)})).catch((function(e){n(e)}))}))}var q=o.a.createElement,z=function(e){o.a.useReducer((function(){return{}}))[1];var t=Object(n.useRef)(),a=Object(n.useState)(),l=a[0],c=a[1],i=null,r=null,u=function(){var t,a,n;c(null),(t=i,a=e.parent,n=e.csrftoken,new Promise((function(e,o){var l={headers:{\"Content-Type\":\"application/x-www-form-urlencoded\",\"X-CSRFToken\":n}},c={operation:\"get\",lvl:t,id:a};s.a.defaults.withCredentials=!0,s.a.post(\"http://localhost:8000/api/categories/\",J.a.stringify(c),l).then((function(t){e(t.data)})).catch((function(e){o(e)}))}))).then((function(e){c(JSON.stringify(e))}))};if(Object(n.useEffect)((function(){i=e.lvl,e.parent,u()}),[]),l&&JSON.parse(l).length>0){var m=JSON.parse(l).map((function(e){return q(\"option\",{key:e.id,value:e.name})}));r=q(\"div\",{className:e.className},q(\"div\",{className:\"h-8 flex\"},q(\"div\",{className:\"h-full w-auto content-center mx-auto flex flex-wrap font-sans font-bold\"},q(\"b\",{className:\"text-gray-900 text-sm text-center ml-2 mr-2\"},\"\\u203a\")),q(\"div\",null,q(\"input\",{className:\"h-8 w-auto font-sans font-medium border text-gray-700 leading-tight hover:outline-none focus:outline-none p-1\",ref:t,list:\"data\",onChange:function(){var a=t.current.value;JSON.parse(l).map((function(t){t.name==a&&(e.setCategory(t),i=t.lvl+1,u())}))}}),q(\"datalist\",{id:\"data\"},m))))}return r},W=o.a.createElement,F=function(e){return W(\"div\",{className:e.className},W(\"div\",{className:\"h-8 flex align-middle\"},W(\"div\",{className:\"h-full w-auto content-center mx-auto flex flex-wrap font-sans font-bold\"},W(\"b\",{className:\"text-gray-900 text-sm text-center ml-2 mr-2\"},\"\\u203a\")),W(\"div\",{className:\"h-full w-auto pl-2 pr-2 bg-gray-900 rounded mx-auto flex content-center\"},W(\"div\",{className:\"h-full w-auto content-center mx-auto flex flex-wrap\"},W(\"h4\",{className:\"font-sans font-medium text-xw-100 leading-tight mr-2\"},e.category.name)),W(\"div\",{className:\"h-full w-auto content-center mx-auto flex flex-wrap\"},W(\"button\",{className:\"h-4 w-4 bg-xw-100 rounded content-center mx-auto flex focus:outline-none\",type:\"button\",onClick:e.onClick},W(\"b\",{className:\"font-sans font-bold text-gray-900 text-xs text-center ml-1 mr-1\"},\"X\"))))))},G=o.a.createElement,H=function(e){Object(n.useRef)(),o.a.useReducer((function(){return{}}))[1];var t=Object(n.useState)([]),a=t[0],l=t[1],s=Object(n.useState)(0),c=s[0],i=s[1],r=Object(n.useState)(null),u=(r[0],r[1]),m=0,f=null,d=function(t){e.addCategory(t),f=t.id,u(f);var a=t.lvl+1;i(a),m=a,p()},p=function t(){if(e.categories.length>0){var a=e.categories.map((function(a){if(a.lvl<m)return G(F,{className:\"w-auto sm:w-full\",key:a.id,category:a,onClick:function(){m=a.lvl,i(a.lvl),0==m?u(f=null):(f=e.categories[m-1].id,u(f)),console.log(c),e.removeCategory(a.lvl),console.log(c),t()}})}));a.push(G(z,{lvl:e.categories[e.categories.length-1].id,parent:e.categories[e.categories.length-1],csrftoken:e.csrftoken,setCategory:d})),l(a)}else{G(z,{lvl:0,parent:null,csrftoken:e.csrftoken,setCategory:d});var n=G(\"div\",{className:\"h-auto w-auto bg-gray-300\"},G(z,{lvl:0,parent:null,csrftoken:e.csrftoken,setCategory:d}));l(n)}};return Object(n.useEffect)((function(){p()}),[]),G(\"div\",{className:e.className},G(\"div\",{className:\"w-full\"},G(\"label\",{className:\"block mb-1 font-sans font-medium\"},\"Add Product Category\"),G(\"div\",{className:\"h-auto w-full container content-start content-center mx-auto flex flex-wrap py-2 px-3\"},G(\"div\",{className:\"flex\"},G(\"div\",{className:\"h-8\"}),a))))},Q=o.a.createElement,K=function(e){var t={pics_list:[],tags:[]},a=Object(n.useState)([]),o=a[0],l=(a[1],Object(n.useState)([])),s=l[0],c=(l[1],function(e,a){\"name\"==a?t.name=e.target.value:\"description\"==a?t.description=e.target.value:\"price\"==a?t.price=e.target.value:\"quantity\"==a&&(t.quantity=e.target.value)});return Q(\"div\",{className:\"m-4\"},Q(\"form\",{className:\"\",action:\"\"},Q(T.d,{label:\"Product Name\",onChange:function(e){return c(e,\"name\")}}),Q(T.c,{label:\"Product Description\",onChange:function(e){return c(e,\"description\")}}),Q(T.d,{label:\"Product Region\",onChange:function(e){return c(e,\"region\")}}),Q(T.a,{label:\"Price\",onChange:function(e){return c(e,\"price\")}}),Q(T.a,{label:\"Quantity\",onChange:function(e){return c(e,\"quantity\")}}),Q(H,{categories:s,addCategory:function(e){s.splice(e.lvl,0,e)},removeCategory:function(e){s.splice(e,s.length-e)},csrftoken:e.cookies.csrftoken}),Q(U,{files:o,addImage:function(e){e.forEach((function(e){return o.push(e)}),void 0)},removeImage:function(e){o.splice(e,1)}}),Q(A.a,{className:\"w-full h-12 mt-8 mb-4\",value:\"ADD PRODUCT\",onClick:function(a){var n,l,c;return M.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:a.preventDefault(),n=0;case 2:if(!(n<o.length)){i.next=10;break}return i.next=5,M.a.awrap(_(0,o[0],e.cookies.csrftoken).then((function(e){return e})));case 5:l=i.sent,t.pics_list.push(l.data);case 7:n++,i.next=2;break;case 10:for(c=0;c<s.length;c++)t.tags.push(s[c].id);console.log(t),X(t,e.cookies.csrftoken).then((function(e){console.log(e)}));case 13:case\"end\":return i.stop()}}),null,null,null,Promise)}})))};function V(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Y=o.a.createElement,Z=function(e){return Y(\"div\",{className:e.className},Y(\"div\",{className:\"flex flex-wrap\"},Y(A.c,{className:\"h-10 w-10 mr-2\",src:\"/icons/text.png\",onClick:function(){e.appendContent({state:\"edit\",data:{type:\"text\",text:\"\"}})}}),Y(A.c,{className:\"h-10 w-10\",src:\"/icons/photo.png\",onClick:function(){e.appendContent({state:\"edit\",data:{type:\"image\",image:null}})}})))},$=o.a.createElement,ee=function(e){var t=Object(n.useRef)(null),a=$(\"div\",{className:\"relative m-1\"},$(\"input\",{className:\"absolute invisible\",ref:t,accept:\"image/jpeg, image/jpg, image/png\",type:\"file\",onChange:function(t){var a={state:\"valid\",data:{type:\"image\",image:t.target.files[0]}};e.editContent(e.index,a)}}),$(\"div\",{className:\"container flex content-center flex-wrap text-center h-auto w-auto bg-white bg-opacity-50 border border-1 border-gray-900 hover:bg-opacity-75 m-1\",role:\"button\",onClick:function(){t.current.click()}},$(\"span\",{className:\"text-center h-auto w-auto m-1\"},\"Upload Photo\"))),o=$(\"div\",{className:\"relative m-1\"},$(\"div\",{className:\"container flex content-center flex-wrap text-center h-auto w-auto bg-white bg-opacity-50 border border-1 border-gray-900 hover:bg-opacity-75 m-1\",role:\"button\",onClick:function(){e.editContent(e.index,{state:\"edit\",data:{type:\"image\",image:null}})}},$(\"span\",{className:\"text-center h-auto w-auto m-1\"},\"Remove Photo\"))),l=$(\"div\",{className:\"absolute top-0 right-0 container flex content-center flex-wrap text-center h-6 w-6 bg-opacity-50 bg-gray-700 rounded-full hover:bg-gray-900 focus:outline-none m-1\",role:\"button\",onClick:function(){return e.removeContent(e.index)}},$(\"span\",{className:\"text-center font-sans font-bold text-xw-100 h-auto w-full\"},\"x\"));return $(\"div\",{className:e.className},$(\"div\",{className:\"relative w-full bg-gray-300 pb-1/2\"},$(\"img\",{className:\"absolute w-full h-full object-cover\",src:\"valid\"==e.data.state?(window.URL?URL:webkitURL).createObjectURL(e.data.data.image):null}),\"true\"==e.close?l:null,$(\"div\",{className:\"absolute bottom-0 left-0 m-2\"},\"valid\"==e.data.state?o:a)))},te=o.a.createElement,ae=function(e){var t=Object(n.useRef)(null),a=e.data.data.text,o=te(A.b,{className:\"h-8 w-auto\",onClick:function(){var t={state:\"valid\",data:{type:\"text\",text:a}};e.editContent(e.index,t)},value:\"Save Text\"}),l=te(A.b,{className:\"h-8 w-auto\",onClick:function(){var t={state:\"edit\",data:{type:\"text\",text:e.data.data.text}};e.editContent(e.index,t)},value:\"Edit Text\"});return te(\"div\",{className:e.className},te(\"div\",{className:\"relative h-auto w-full border\"},te(\"div\",{className:\"m-2\"},\"valid\"==e.data.state?te(\"div\",{className:\"m-2\"},te(\"p\",null,e.data.data.text)):te(\"textarea\",{ref:t,rows:\"4\",cols:\"50\",className:\"appearance-none border h-full w-full py-2 px-3 font-sans font-medium text-gray-700 leading-tight focus:outline-none focus:border-black\",type:\"text\",onChange:function(e){a=e.target.value}},e.data.data.text),te(\"div\",{className:\"absolute top-0 right-0 container flex content-center flex-wrap text-center h-6 w-6 bg-opacity-50 bg-gray-700 rounded-full hover:bg-gray-900 focus:outline-none\",role:\"button\",onClick:function(){return e.removeContent(e.index)}},te(\"span\",{className:\"text-center font-sans font-bold text-xw-100 h-auto w-full\"},\"x\")),te(\"div\",{className:\"h-auto w-auto mt-2\"},\"valid\"==e.data.state?l:o))))};function ne(e,t,a){return new Promise((function(n,o){var l={headers:{\"Content-Type\":\"application/x-www-form-urlencoded\",\"X-CSRFToken\":t}};s.a.defaults.withCredentials=!0,s.a.post(a,e,l).then((function(e){n(e.data)})).catch((function(e){o(e)}))}))}var oe=o.a.createElement;function le(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function se(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?le(Object(a),!0).forEach((function(t){V(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):le(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ce=function(e){var t=Object(n.useState)({title:null,description:null,cover:{state:\"edit\",data:{type:\"image\",image:null}},text:[]}),a=t[0],o=t[1],l=function(e,t){\"title\"==t?o(se({},a,{title:e.target.value})):\"description\"==t&&o(se({},a,{description:e.target.value}))},s=function(e,t){var n=a.text;n[e]=t,o(se({},a,{text:n}))},c=function(e){var t=a.text;t.splice(e,1),o(se({},a,{text:t}))};return oe(\"div\",{className:\"m-4\"},oe(\"form\",{className:\"w-full\",action:\"\"},oe(T.d,{label:\"Title\",onChange:function(e){return l(e,\"title\")}}),oe(T.c,{label:\"Description\",onChange:function(e){return l(e,\"description\")}}),oe(\"div\",{className:\"pb-2\"},oe(\"label\",{className:\"block mb-1 font-sans font-medium\"},\"Add Cover\"),oe(ee,{index:-1,className:\"\",data:a.cover,close:\"false\",editContent:function(e,t){o(se({},a,{cover:t}))},removeContent:function(){}})),oe(\"div\",null,oe(\"label\",{className:\"block mb-1 font-sans font-medium\"},\"Add Article Content\"),oe(\"div\",{className:\"h-auto w-full border\"},a.text.map((function(e,t){return\"image\"==e.data.type?oe(ee,{index:t,className:\"m-2\",data:e,close:\"true\",editContent:s,removeContent:c}):oe(ae,{index:t,className:\"m-2\",data:e,editContent:s,removeContent:c})})),oe(Z,{className:\"m-2\",appendContent:function(e){var t=a.text;t.push(e),o(se({},a,{text:t}))}}))),oe(A.a,{className:\"w-full h-12 mt-8 mb-4\",value:\"ADD ARTICLE\",onClick:function(t){var n,o,l,s,c;return M.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return t.preventDefault(),i.next=3,M.a.awrap(_(0,a.cover.data.image,e.cookies.csrftoken).then((function(e){return e.data})));case 3:n=i.sent,o=[],l=0;case 6:if(!(l<a.text.length)){i.next=18;break}if(\"image\"!=a.text[l].data.type){i.next=14;break}return i.next=10,M.a.awrap(_(0,a.text[l].data.image,e.cookies.csrftoken).then((function(e){return e})));case 10:s=i.sent,o.push(J.a.stringify({type:\"image\",image:s.data})),i.next=15;break;case 14:o.push(J.a.stringify({type:\"text\",text:a.text[l].data.text}));case 15:l++,i.next=6;break;case 18:c=se({},a,{cover:n,text:J.a.stringify(o)}),ne(J.a.stringify(c),e.cookies.csrftoken,\"http://localhost:8000/articles/\").then((function(e){console.log(e)}));case 20:case\"end\":return i.stop()}}),null,null,null,Promise)}})))},ie=o.a.createElement,re=function(e){console.log(e.cookies),console.log(e.data);var t=Object(n.useState)(),a=t[0],o=t[1],l=Object(n.useState)(!1),c=l[0],i=l[1],r=Object(n.useState)(0),u=r[0],m=r[1];Object(n.useEffect)((function(){console.log(\"useEffect runs\"),i(!0),s.a.defaults.withCredentials=!0,null!=e.cookies.utoken?s.a.get(\"http://localhost:8000/api/products/\").then((function(e){console.log(e.data),o(JSON.stringify(e.data)),i(!1)})):window.location=\"/maker/auth\"}),[]);var f=ie(\"p\",null,\"Loading characters...\");if(!c&&a&&a.length>0){console.log(a);var d=JSON.parse(a).map((function(e){return ie(R,{className:\"h-auto w-auto m-2\",key:e.id,data:e,owner:\"ilyass\"})})),p=[ie(D,{className:\"w-full p-2\",data:d}),ie(K,{className:\"w-full p-2\",cookies:e.cookies}),ie(ce,{className:\"w-full p-2\",cookies:e.cookies})];f=ie(\"div\",{className:\"w-full\"},ie(b,{cookies:e.cookies,className:\"w-full\"}),ie(E,{className:\"w-full pt-12\"}),ie(\"div\",{className:\"w-full flex pt-10\"},ie(\"div\",{className:\"w-64 h-full\"},ie(O,{className:\"w-full h-full\",clicked:u,data:[{id:0,value:\"Products\"},{id:1,value:\"Add Product\"},{id:2,value:\"Add Article\"}],onClick:function(e){return m(e)}})),ie(\"div\",{className:\"w-full h-full\"},p[u])))}else c||a&&0!==a.length||(f=ie(\"p\",null,\"Could not fetch any data.\"));return f};re.getInitialProps=function(e){var t=e.req;return{cookies:Object(c.a)(t),data:t.data}};t.default=re},\"yCN/\":function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/maker\",function(){return a(\"vasz\")}])}},[[\"yCN/\",0,1,2,4]]]);"}